<!DOCTYPE html>
<!-- saved from url=(0071)https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/ -->
<html lang="en" id="top-of-site" class="js jetpack-lazy-images-js-enabled"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

  

  <meta name="viewport" content="width=device-width">

  
  <title>A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks - CSS-Tricks</title>


  <link rel="icon" href="https://css-tricks.com/favicon.ico" sizes="any">
  <link rel="icon" href="https://css-tricks.com/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="https://css-tricks.com/apple-touch-icon.png">
  <link rel="manifest" href="https://css-tricks.com/manifest.webmanifest">
  <meta name="theme-color" content="#ff7a18">

  <link rel="search" type="application/opensearchdescription+xml" href="https://css-tricks.com/opensearch.xml" title="CSS-Tricks Search">

  <link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="https://css-tricks.com/feed/">

  <link rel="preconnect" href="https://s3.buysellads.com/">
  <link rel="dns-prefetch" href="https://s3.buysellads.com/">
  <link rel="preconnect" href="https://srv.buysellads.com/">
  <link rel="dns-prefetch" href="https://srv.buysellads.com/">
  <link rel="preconnect" href="https://res.cloudinary.com/">
  <link rel="dns-prefetch" href="https://res.cloudinary.com/">
  <link rel="preconnect" href="https://static.codepen.io/">
  <link rel="dns-prefetch" href="https://static.codepen.io/">

  
  <style id="jetpack-boost-critical-css" media="not all">@media all{@charset "UTF-8";*{box-sizing:border-box}a{text-decoration:none}article,header,nav{display:block}html{-webkit-text-size-adjust:100%;-ms-text-size-adjust:100%;padding:0}body,html,ol,ul{margin:0}ol,ul{padding:0}nav ul{list-style:none;list-style-image:none}img{border:0;-ms-interpolation-mode:bicubic}input,textarea{font-size:100%;margin:0;vertical-align:baseline}input{line-height:normal}textarea{overflow:auto;vertical-align:top}@media (prefers-reduced-motion:reduce){*{scroll-behavior:auto!important}}@font-face{font-family:MD Primer Bold;font-weight:700}@font-face{font-family:Blanco;font-weight:400}@font-face{font-family:Blanco;font-weight:700}@font-face{font-family:Blanco;font-style:italic}@font-face{font-family:Blanco;font-weight:700;font-style:italic}html{font-family:Blanco,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica,Arial,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol;font-size:clamp(12px,calc(.8rem + .25vw),20px);font-weight:400;line-height:1.7}a{color:#0089c7}.article-title{font-size:clamp(1.2rem,calc(1rem + 3.5vw),4rem);text-shadow:0 2px 2px rgba(0,0,0,.5)}h1,h3,h4{font-weight:800;margin:0 0 1.5rem;line-height:1.1}h3 a{color:inherit}h1{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-size:clamp(2rem,calc(2rem + 1.2vw),3rem);font-weight:700}h3{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:2rem;letter-spacing:.03rem;font-weight:800}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3{margin-top:100px}body:not(.page-id-21059):not(.parent-pageid-3222):not(.postid-181375):not(.postid-199370):not(.woocommerce-checkout) .article-content h3 a{color:#0089c7}.aal_anchor{margin-left:-21px;margin-right:5px;position:relative;scroll-margin-top:100px;opacity:.33}.aal_anchor:before{content:"";position:absolute;width:100px;height:100px;border-radius:50%;left:50%;top:50%;transform:translate(-50%,-50%)}.aal_anchor svg{position:relative}h4{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:1.5rem;margin:0 0 .8rem}h4{line-height:1.05}.article-content li,.article-content p{max-width:700px}.article-content ol,.article-content ul{margin:0 0 1.5rem 1.5rem}.article-content ol li,.article-content ul li{line-height:1.6}.article-content ul li>*{text-indent:0}.article-content li{margin:0 0 5px}strong{font-weight:700}blockquote{font-size:1.3rem;letter-spacing:-.02rem;margin:1.5rem 0;padding:0 0 0 3rem;position:relative;font-style:italic}.article-content blockquote>*{hanging-punctuation:first}.article-content blockquote>:first-child:before{content:"\0022";width:100px;opacity:.15;font-size:100px;line-height:.85;position:absolute;left:-1rem}@media (max-width:800px){.article-content blockquote>:first-child:before{font-size:90px;left:-1.2rem}}blockquote p{margin:0 0 .25rem}blockquote p:last-child{margin:0}blockquote,blockquote p{max-width:900px}p,pre{margin:0 0 1.5rem}pre{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;clear:both;color:#fff;background:#1b1b1b;padding:0;-moz-tab-size:2;-o-tab-size:2;tab-size:2;-ms-word-break:normal;word-break:normal;-webkit-hyphens:none;-ms-hyphens:none;hyphens:none;position:relative;line-height:28px;border-radius:8px;overflow:hidden}pre[rel]:not([rel=""]):before{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;font-size:.5rem;content:attr(rel);color:#fff;position:absolute;top:-.2rem;right:.4rem;padding:0;color:#ff7a18!important}pre code{scrollbar-color:#666 #201c29;background:0 0;white-space:pre;-webkit-overflow-scrolling:touch;overflow-x:scroll;display:block;max-width:100%;min-width:100px;font-size:16px;padding:15px 20px 12px 22px;line-height:1.75}pre code::-webkit-scrollbar{width:.5em;height:.5em}@media (max-width:800px){pre code{font-size:11px;padding:15px 20px 10px 14px}}code{font-size:inherit;font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace}li:not(.comment):not([data-category])>code,p>code{overflow-wrap:break-word;word-wrap:break-word;-webkit-box-decoration-break:clone;box-decoration-break:clone;padding:.1rem .3rem .2rem;border-radius:.2rem;font-size:88%}.screen-reader-text{position:absolute!important;clip:rect(1px,1px,1px,1px);width:1px;height:1px;overflow:hidden}p:empty{display:none}.language-javascript{color:#f5d67b}.button{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;background-color:#5e5e5e!important;color:#fff!important;border:0;border-bottom:1px solid #262626;border-right:1px solid #262626;box-shadow:inset 1px 1px 0 #777,0 2px 3px rgba(0,0,0,.4);display:inline-block;font-weight:700;line-height:1.4;text-transform:uppercase;text-decoration:none!important;border-radius:4px!important;white-space:nowrap;padding:1rem 1.5rem;text-align:center;position:relative}input[type=text],textarea{font-family:SFMono-Regular,Consolas,Liberation Mono,Menlo,monospace;background:#eaeaea;border:1px solid #d4d4d4!important;padding:.5rem;border-radius:4px;border:0;width:100%}textarea{padding:1rem;display:block}html{--maxWidth:1600px;--gap:3rem;scrollbar-color:#666 #201c29;background:radial-gradient(900px 900px at top center,#5e5e5e,#2d3334,#262626);background-repeat:no-repeat;color:#fff;overflow-x:hidden}html::-webkit-scrollbar{width:16px;height:16px}@media (max-width:1200px){html{--gap:2rem}}@media (max-width:800px){html{--gap:1rem}}#top-of-site-pixel-anchor{position:absolute;width:1px;height:1px;top:500px;left:0}@media (max-width:800px){#top-of-site-pixel-anchor{top:46px}}.mega-header,.page-wrap{max-width:var(--maxWidth);margin:0 auto;padding:0 var(--gap)}main{position:relative;z-index:1}.articles-and-sidebar{display:grid;grid-template-columns:minmax(0,1fr) 300px;gap:var(--gap);margin:0 auto}.articles-and-sidebar>:not(.sidebar){align-self:start}@media (max-width:800px){.articles-and-sidebar{display:block;padding-top:0}}.articles-and-sidebar.single-mini{display:block}.articles-and-sidebar.single-mini .sidebar{display:none}.articles-and-sidebar.single-mini .article-content{font-size:1.5rem}@media (max-width:800px){.articles-and-sidebar.single-mini .article-content{font-size:1.2rem}}@media (max-width:800px){.sidebar{display:none}}img{max-width:100%}.site-header{position:relative;z-index:2;display:flex;padding:0 var(--gap);margin:0 0 var(--gap) 0;background-color:#111;background-image:paint(fleck);border-bottom:1px solid #676767}.site-header .logo{flex:0;position:relative;align-self:stretch}.site-header .logo,.site-header .logo>a{display:flex;align-items:center}.site-header .icon-logo-star{fill:#fff;width:25px;height:25px;margin:0 .5rem 0 0}.site-header .icon-logo-text{fill:#fff;height:25px;width:170px;margin-right:var(--gap)}.site-header .header-middle-area{flex:1;width:100%}.site-header .main-nav>ul{display:flex;height:100%}.site-header .main-nav>ul>li>a{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;text-transform:uppercase;font-weight:500;font-size:.8rem;height:100%;color:#fff;padding:1.2rem 1rem;position:relative;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;overflow:hidden}@media (max-width:1000px){.site-header{padding:20px 20px 0;flex-wrap:wrap}.site-header .header-middle-area{flex:0 0 100%}.site-header .main-nav{padding-top:10px;-webkit-margin-start:-10px;margin-inline-start:-10px}.site-header .main-nav>ul>li>a{padding:.6rem .8rem;border-top-right-radius:4px;border-top-left-radius:4px}.site-header .icon-logo-star{width:18px;height:18px}.site-header .icon-logo-text{height:15px;width:116px}}@media (max-width:620px){.site-header{padding-top:15px}.site-header .main-nav{width:calc(100% + var(--gap)*2);overflow:auto}}.search-and-account{position:fixed;z-index:15;top:.9rem;right:var(--gap)}.search-and-account svg{width:32px;height:32px}@media (max-width:620px){.search-and-account{top:.95rem}.search-and-account svg{width:28px;height:28px}}.search-and-account a{margin-left:.5rem}.search-and-account a svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.top-of-site-link{visibility:hidden;opacity:0;position:fixed;bottom:1.2rem;right:1.5rem;z-index:15}.top-of-site-link svg{-webkit-filter:drop-shadow(0 2px 5px rgba(0,0,0,.3));filter:drop-shadow(0 2px 5px rgba(0,0,0,.3))}.article-sponsor{padding:1rem 1.5rem calc(1rem + 10px);margin-bottom:-10px;border-radius:8px;background:rgba(0,0,0,.2)}.article-sponsor p{margin:0}.article-sponsor a{color:#fff;font-weight:700;position:relative;display:inline-block;line-height:1.2}.article-sponsor a:before{content:"";position:absolute;top:100%;width:100%;left:0;height:3px;border-radius:2px;background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%)}.article-content{font-size:1.2rem;background:#fff;color:#000;overflow-wrap:break-word;border-radius:8px;padding:4rem;position:relative}@media (max-width:800px){.article-content{padding:1.66rem}}.article-content a{text-decoration:underline;-webkit-text-decoration-color:#a2dffb;text-decoration-color:#a2dffb}.article-content img{max-width:100%;height:auto!important}figure>img{display:block}.mega-header{position:relative;z-index:1;overflow:hidden;padding:0 0 2rem}.mega-header .tags a{color:#ffdfc7}.mega-header .author-name,.mega-header .author-row{color:#fff}.jp-relatedposts{margin-bottom:1rem}.author-row{-webkit-margin-before:auto;margin-block-start:auto;display:grid;grid-template-columns:40px 1fr;gap:.5rem;align-items:center;color:#565656;line-height:1.3;padding-top:.5rem}.author-row>div>*{white-space:nowrap}.avatar{width:40px;height:40px;border-radius:50%;margin-right:.5rem}.author-name{font-weight:700;color:#000}.tags{line-height:1;margin:0 0 .5rem}.tags a{font-family:MD Primer Bold,Rubik,Lato,Lucida Grande,Lucida Sans Unicode,Tahoma,Sans-Serif;font-style:normal;font-weight:700;text-transform:uppercase;color:#ff7a18;font-size:.66rem;-webkit-margin-end:.66rem;margin-inline-end:.66rem}.CommentForm .comment-wrap .author-avatar,.comment ul .comment-wrap .author-avatar,.commentlist .comment-wrap .author-avatar{margin:0;align-self:start;grid-area:auto}#commentform label{display:block}#commentform .comment-notes,#commentform .required{display:none}#commentform p{margin-bottom:.5rem}.bsap-doubles.side-by-side{margin-top:var(--gap)}#all-modules{height:100%}#scroll-ad-position{width:1px;height:1px}#sticky-sidebar-stuff{position:-webkit-sticky;position:sticky;top:2.5rem;opacity:0;visibility:hidden}@media (max-width:620px){#sticky-sidebar-stuff{top:89px}}.fem-ad{background:#1f1f1f;color:#fff;border-radius:8px;position:relative}.fem-ad:before{content:"";background:linear-gradient(130deg,#ff7a18,#af002d 41.07%,#319197 76.05%);position:absolute;top:-5px;left:-5px;width:calc(100% + 10px);height:calc(100% + 10px);z-index:-1;border-radius:12px}.fem-ad h4{font-size:1.2rem}.fem-ad .fem-learning-partner{font-size:.75rem;color:#fff;text-transform:uppercase;letter-spacing:.13rem;text-align:center;margin:0 0 .5rem}.fem-ad .fem-header-inner{background:rgba(0,0,0,.7);padding:1rem;border-radius:7px}.fem-ad .fem-title{text-align:center}.fem-ad .fem-logo{width:200px;display:block;margin:0 auto}.fem-ad .fem-message{background:#eaeaea;border-bottom-left-radius:7px;border-bottom-right-radius:7px;color:#000;padding:1.5rem;font-size:.85rem}.fem-ad .fem-message p{margin:0}.fem-footer-ad{margin:var(--gap) 0 var(--gap) 0;display:grid;grid-template-columns:1fr 2fr}@media (max-width:1200px){.fem-footer-ad{grid-template-columns:4fr 3fr}}@media (max-width:800px){.fem-footer-ad{display:block}.fem-footer-ad .fem-header-inner{height:auto}}.fem-footer-ad .fem-header-inner{padding:4rem 1.5rem;display:grid;place-items:center}.single-almanac-content .almanac-sidebar{grid-area:1/1/2/2;background:#111;border-radius:8px;padding:1rem}.single-almanac-content .article-content-wrap{grid-area:1/2/2/3}.single-almanac-content .sidebar{grid-area:1/3/2/4}@media (max-width:650px){.single-almanac-content .article-content-wrap{grid-area:1/1/2/2;min-width:0}.single-almanac-content .almanac-sidebar{grid-area:2/1/3/2}}@media screen and (max-width:400px){@-ms-viewport{width:320px}}}@media all{#jp-relatedposts{display:none;padding-top:1em;margin:1em 0;position:relative;clear:both}.jp-relatedposts:after{content:'';display:block;clear:both}}</style>
<!-- Search Engine Optimization by Rank Math PRO - https://s.rankmath.com/home -->
<meta name="description" content="I like when websites have a dark mode option. Dark mode makes web pages easier for me to read and helps my eyes feel more relaxed. Many websites, including">
<meta name="robots" content="follow, index, max-snippet:-1, max-video-preview:-1, max-image-preview:large">
<link rel="canonical" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/">
<meta property="og:locale" content="en_US">
<meta property="og:type" content="article">
<meta property="og:title" content="A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks">
<meta property="og:description" content="I like when websites have a dark mode option. Dark mode makes web pages easier for me to read and helps my eyes feel more relaxed. Many websites, including">
<meta property="og:url" content="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/">
<meta property="og:site_name" content="CSS-Tricks">
<meta property="article:publisher" content="https://www.facebook.com/CSSTricks">
<meta property="article:tag" content="dark mode">
<meta property="article:tag" content="prefers-color-scheme">
<meta property="article:tag" content="react hooks">
<meta property="article:section" content="Article">
<meta property="og:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/296088">
<meta property="og:image:secure_url" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/296088">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta property="og:image:alt" content="A Dark Mode Toggle with React and ThemeProvider">
<meta property="og:image:type" content="image/png">
<meta property="article:published_time" content="2019-09-25T07:10:14-07:00">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks">
<meta name="twitter:description" content="I like when websites have a dark mode option. Dark mode makes web pages easier for me to read and helps my eyes feel more relaxed. Many websites, including">
<meta name="twitter:site" content="@CSS">
<meta name="twitter:creator" content="@CSS">
<meta name="twitter:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/296088">
<meta name="twitter:label1" content="Written by">
<meta name="twitter:data1" content="Maks Akymenko">
<meta name="twitter:label2" content="Time to read">
<meta name="twitter:data2" content="11 minutes">

<!-- /Rank Math WordPress SEO plugin -->

<link rel="dns-prefetch" href="https://stats.wp.com/">
<link rel="dns-prefetch" href="https://i0.wp.com/">
<link rel="dns-prefetch" href="https://c0.wp.com/">
<link rel="alternate" type="application/rss+xml" title="CSS-Tricks » A Dark Mode Toggle with React and ThemeProvider Comments Feed" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/feed/">
<noscript><link rel='stylesheet' id='css-tricks-style-css'  href='https://css-tricks.com/wp-content/themes/CSS-Tricks-19/style.css?ver=cache_bust=1646677752510' type='text/css' media='all' />
</noscript><link rel="stylesheet" id="css-tricks-style-css" href="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/style.css" type="text/css" media="all">
<noscript><link rel='stylesheet' id='mediaelement-css'  href='https://c0.wp.com/c/5.9.2/wp-includes/js/mediaelement/mediaelementplayer-legacy.min.css' type='text/css' media='all' />
</noscript><link rel="stylesheet" id="mediaelement-css" href="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/mediaelementplayer-legacy.min.css" type="text/css" media="all">
<noscript><link rel='stylesheet' id='wp-mediaelement-css'  href='https://c0.wp.com/c/5.9.2/wp-includes/js/mediaelement/wp-mediaelement.min.css' type='text/css' media='all' />
</noscript><link rel="stylesheet" id="wp-mediaelement-css" href="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/wp-mediaelement.min.css" type="text/css" media="all">
<style id="global-styles-inline-css" type="text/css">
body{--wp--preset--color--black: #000000;--wp--preset--color--cyan-bluish-gray: #abb8c3;--wp--preset--color--white: #ffffff;--wp--preset--color--pale-pink: #f78da7;--wp--preset--color--vivid-red: #cf2e2e;--wp--preset--color--luminous-vivid-orange: #ff6900;--wp--preset--color--luminous-vivid-amber: #fcb900;--wp--preset--color--light-green-cyan: #7bdcb5;--wp--preset--color--vivid-green-cyan: #00d084;--wp--preset--color--pale-cyan-blue: #8ed1fc;--wp--preset--color--vivid-cyan-blue: #0693e3;--wp--preset--color--vivid-purple: #9b51e0;--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple: linear-gradient(135deg,rgba(6,147,227,1) 0%,rgb(155,81,224) 100%);--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan: linear-gradient(135deg,rgb(122,220,180) 0%,rgb(0,208,130) 100%);--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange: linear-gradient(135deg,rgba(252,185,0,1) 0%,rgba(255,105,0,1) 100%);--wp--preset--gradient--luminous-vivid-orange-to-vivid-red: linear-gradient(135deg,rgba(255,105,0,1) 0%,rgb(207,46,46) 100%);--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray: linear-gradient(135deg,rgb(238,238,238) 0%,rgb(169,184,195) 100%);--wp--preset--gradient--cool-to-warm-spectrum: linear-gradient(135deg,rgb(74,234,220) 0%,rgb(151,120,209) 20%,rgb(207,42,186) 40%,rgb(238,44,130) 60%,rgb(251,105,98) 80%,rgb(254,248,76) 100%);--wp--preset--gradient--blush-light-purple: linear-gradient(135deg,rgb(255,206,236) 0%,rgb(152,150,240) 100%);--wp--preset--gradient--blush-bordeaux: linear-gradient(135deg,rgb(254,205,165) 0%,rgb(254,45,45) 50%,rgb(107,0,62) 100%);--wp--preset--gradient--luminous-dusk: linear-gradient(135deg,rgb(255,203,112) 0%,rgb(199,81,192) 50%,rgb(65,88,208) 100%);--wp--preset--gradient--pale-ocean: linear-gradient(135deg,rgb(255,245,203) 0%,rgb(182,227,212) 50%,rgb(51,167,181) 100%);--wp--preset--gradient--electric-grass: linear-gradient(135deg,rgb(202,248,128) 0%,rgb(113,206,126) 100%);--wp--preset--gradient--midnight: linear-gradient(135deg,rgb(2,3,129) 0%,rgb(40,116,252) 100%);--wp--preset--duotone--dark-grayscale: url('#wp-duotone-dark-grayscale');--wp--preset--duotone--grayscale: url('#wp-duotone-grayscale');--wp--preset--duotone--purple-yellow: url('#wp-duotone-purple-yellow');--wp--preset--duotone--blue-red: url('#wp-duotone-blue-red');--wp--preset--duotone--midnight: url('#wp-duotone-midnight');--wp--preset--duotone--magenta-yellow: url('#wp-duotone-magenta-yellow');--wp--preset--duotone--purple-green: url('#wp-duotone-purple-green');--wp--preset--duotone--blue-orange: url('#wp-duotone-blue-orange');--wp--preset--font-size--small: 13px;--wp--preset--font-size--medium: 20px;--wp--preset--font-size--large: 36px;--wp--preset--font-size--x-large: 42px;}.has-black-color{color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-color{color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-color{color: var(--wp--preset--color--white) !important;}.has-pale-pink-color{color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-color{color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-color{color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-color{color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-color{color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-color{color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-color{color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-color{color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-color{color: var(--wp--preset--color--vivid-purple) !important;}.has-black-background-color{background-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-background-color{background-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-background-color{background-color: var(--wp--preset--color--white) !important;}.has-pale-pink-background-color{background-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-background-color{background-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-background-color{background-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-background-color{background-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-background-color{background-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-background-color{background-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-background-color{background-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-background-color{background-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-background-color{background-color: var(--wp--preset--color--vivid-purple) !important;}.has-black-border-color{border-color: var(--wp--preset--color--black) !important;}.has-cyan-bluish-gray-border-color{border-color: var(--wp--preset--color--cyan-bluish-gray) !important;}.has-white-border-color{border-color: var(--wp--preset--color--white) !important;}.has-pale-pink-border-color{border-color: var(--wp--preset--color--pale-pink) !important;}.has-vivid-red-border-color{border-color: var(--wp--preset--color--vivid-red) !important;}.has-luminous-vivid-orange-border-color{border-color: var(--wp--preset--color--luminous-vivid-orange) !important;}.has-luminous-vivid-amber-border-color{border-color: var(--wp--preset--color--luminous-vivid-amber) !important;}.has-light-green-cyan-border-color{border-color: var(--wp--preset--color--light-green-cyan) !important;}.has-vivid-green-cyan-border-color{border-color: var(--wp--preset--color--vivid-green-cyan) !important;}.has-pale-cyan-blue-border-color{border-color: var(--wp--preset--color--pale-cyan-blue) !important;}.has-vivid-cyan-blue-border-color{border-color: var(--wp--preset--color--vivid-cyan-blue) !important;}.has-vivid-purple-border-color{border-color: var(--wp--preset--color--vivid-purple) !important;}.has-vivid-cyan-blue-to-vivid-purple-gradient-background{background: var(--wp--preset--gradient--vivid-cyan-blue-to-vivid-purple) !important;}.has-light-green-cyan-to-vivid-green-cyan-gradient-background{background: var(--wp--preset--gradient--light-green-cyan-to-vivid-green-cyan) !important;}.has-luminous-vivid-amber-to-luminous-vivid-orange-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-amber-to-luminous-vivid-orange) !important;}.has-luminous-vivid-orange-to-vivid-red-gradient-background{background: var(--wp--preset--gradient--luminous-vivid-orange-to-vivid-red) !important;}.has-very-light-gray-to-cyan-bluish-gray-gradient-background{background: var(--wp--preset--gradient--very-light-gray-to-cyan-bluish-gray) !important;}.has-cool-to-warm-spectrum-gradient-background{background: var(--wp--preset--gradient--cool-to-warm-spectrum) !important;}.has-blush-light-purple-gradient-background{background: var(--wp--preset--gradient--blush-light-purple) !important;}.has-blush-bordeaux-gradient-background{background: var(--wp--preset--gradient--blush-bordeaux) !important;}.has-luminous-dusk-gradient-background{background: var(--wp--preset--gradient--luminous-dusk) !important;}.has-pale-ocean-gradient-background{background: var(--wp--preset--gradient--pale-ocean) !important;}.has-electric-grass-gradient-background{background: var(--wp--preset--gradient--electric-grass) !important;}.has-midnight-gradient-background{background: var(--wp--preset--gradient--midnight) !important;}.has-small-font-size{font-size: var(--wp--preset--font-size--small) !important;}.has-medium-font-size{font-size: var(--wp--preset--font-size--medium) !important;}.has-large-font-size{font-size: var(--wp--preset--font-size--large) !important;}.has-x-large-font-size{font-size: var(--wp--preset--font-size--x-large) !important;}
</style>









<link rel="https://api.w.org/" href="https://css-tricks.com/wp-json/"><link rel="alternate" type="application/json" href="https://css-tricks.com/wp-json/wp/v2/posts/296088"><link rel="shortlink" href="https://css-tricks.com/?p=296088">
<link rel="alternate" type="application/json+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fa-dark-mode-toggle-with-react-and-themeprovider%2F">
<link rel="alternate" type="text/xml+oembed" href="https://css-tricks.com/wp-json/oembed/1.0/embed?url=https%3A%2F%2Fcss-tricks.com%2Fa-dark-mode-toggle-with-react-and-themeprovider%2F&amp;format=xml">
<!-- Better Art Direction Styles -->


<!-- Generated by Social Image Generator - https://socialimagegenerator.com -->
<meta property="og:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/296088">
<meta property="og:image:width" content="1200">
<meta property="og:image:height" content="630">
<meta name="twitter:image" content="https://css-tricks.com/wp-json/social-image-generator/v1/image/296088">
<meta name="twitter:card" content="summary_large_image">
<!-- / Social Image Generator -->
		<meta name="jetpack-boost-ready" content="true">
		<style type="text/css">img#wpstats{display:none}</style>
				<style type="text/css">
				/* If html does not have either class, do not show lazy loaded images. */
				html:not( .jetpack-lazy-images-js-enabled ):not( .js ) .jetpack-lazy-image {
					display: none;
				}
			</style>
			
		<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=32%2C32&amp;ssl=1" sizes="32x32">
<link rel="icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&amp;ssl=1" sizes="192x192">
<link rel="apple-touch-icon" href="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&amp;ssl=1">
<meta name="msapplication-TileImage" content="https://i0.wp.com/css-tricks.com/wp-content/uploads/2021/07/star.png?fit=180%2C180&amp;ssl=1">

<script type="text/javascript" async="" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/analytics.min.js.download"></script><script async="" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/analytics.js.download"></script><style id="fit-vids-style">.fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed, .fluid-width-video-wrapper video {position:absolute;top:0;left:0;width:100%;height:100% !important;}</style><link rel="stylesheet" type="text/css" href="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/jp-search.chunk-main-payload.css"><script async="" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/bsa.js.download"></script><script type="text/javascript" id="_bsap_js_3469a2a501a9e18091036aa0c89f9dcb" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/s_3469a2a501a9e18091036aa0c89f9dcb.js.download" async="async"></script><script id="_carbonads_projs" type="text/javascript" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/CK7DK2QU.json"></script></head>

<body class="post-template-default single single-post postid-296088 single-format-standard jps-theme-CSS-Tricks-19 category-article">

  <div id="top-of-site-pixel-anchor"></div>

  <header class="site-header" id="site-header">

  <a id="skip-nav" class="skip-nav screen-reader-text" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#maincontent">Skip to main content</a> 

  <div class="logo">
    <a href="https://css-tricks.com/">
      <div class="screen-reader-text">CSS-Tricks</div>

      <svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
  <path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z"></path>
</svg>
            <svg class="icon-logo-text" width="214px" height="35px" viewBox="0 0 474.15 58.26">
  <path d="M46 42.57a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.09c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.48 5.03 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.91-3.79-10.62-6.36-19.35-6.36-17 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.54 4.71 4.71 0 0 0-4.68-4.62zm36.86-17.95c-10.86-2.62-13.43-4.5-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.43 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.73 4.58 12.73 8.6v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.94 3.77 35.05 35.05 0 0 0 21.16 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.34-6.11-13.6-18.02-16.5zm49.88 0c-10.86-2.57-13.43-4.51-13.43-8.85v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.91-5.22c-11.18 0-19.23 6.68-19.23 16.33v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.77 35.05 35.05 0 0 0 21.16 7.08c11.83 0 20.11-6.28 20.11-16.82v-.16c0-9.32-6.11-13.58-18.02-16.48zm45.62 3.22h-15.13a4.79 4.79 0 0 0 0 9.58h15.12a4.79 4.79 0 0 0 0-9.58zm45.64-26.84h-37.45a4.59 4.59 0 0 0 0 9.17h13.68v42.62a5 5 0 0 0 10 0v-42.65h13.77a4.59 4.59 0 0 0 0-9.14zm38.86 0h-20.15a4.91 4.91 0 0 0-5 5v46.79a4.95 4.95 0 0 0 9.89 0v-15.13h12.47l13.68 17.46a5.65 5.65 0 0 0 4.83 2.58 4.67 4.67 0 0 0 4.75-4.59 5.74 5.74 0 0 0-1.61-3.78l-10.78-13.6c7.56-2.33 12.79-7.81 12.79-16.82v-.16a17 17 0 0 0-4.66-12.15c-3.62-3.54-9.17-5.6-16.25-5.6zm10.86 18.51c0 5.71-4.51 9.41-11.58 9.41h-14.53v-18.92h14.39c7.32 0 11.67 3.3 11.67 9.33zm27-18.91a4.89 4.89 0 0 0-5 4.91v47.28a4.95 4.95 0 0 0 9.89 0v-47.32a4.88 4.88 0 0 0-4.98-4.91zm62.67 42a4.5 4.5 0 0 0-3 1.13c-4.1 3.46-8.13 5.39-14.08 5.39-10.78 0-18.58-8.93-18.58-20v-.12c0-11 7.88-19.87 18.58-19.87a20.42 20.42 0 0 1 13.44 5.07 4.95 4.95 0 0 0 7.88-3.86 4.94 4.94 0 0 0-1.93-3.94c-4.98-3.83-10.7-6.4-19.38-6.4-17.06 0-29 13.12-29 29.13v.16c0 16.17 12.23 29 28.64 29 9.09 0 15.12-2.9 20.43-7.56a4.76 4.76 0 0 0 1.61-3.58 4.71 4.71 0 0 0-4.7-4.58zm41-16.82l17.54-16.9a4.81 4.81 0 0 0 1.77-3.7 4.53 4.53 0 0 0-4.7-4.62 5.2 5.2 0 0 0-4.1 1.85l-26.66 26.88v-23.82a4.95 4.95 0 0 0-9.9 0v47.32a4.95 4.95 0 0 0 9.9 0v-11.67l9.17-8.85 18.1 23.09a5 5 0 0 0 4.18 2.33 4.83 4.83 0 0 0 5-4.83 5.36 5.36 0 0 0-1.37-3.54zm51.8-1.13c-10.92-2.65-13.49-4.53-13.49-8.88v-.16c0-3.7 3.38-6.68 9.17-6.68 4.42 0 8.61 1.45 13 4.26a4.78 4.78 0 0 0 2.57.72 4.6 4.6 0 0 0 4.67-4.59 4.47 4.47 0 0 0-2.17-3.94 31 31 0 0 0-17.94-5.22c-11.15 0-19.2 6.68-19.2 16.34v.16c0 10.38 6.76 13.92 18.74 16.82 10.46 2.41 12.71 4.59 12.71 8.61v.16c0 4.18-3.86 7.08-10 7.08a24.42 24.42 0 0 1-15.77-5.79 4.79 4.79 0 0 0-7.56 3.7 4.64 4.64 0 0 0 1.96 3.76 35.05 35.05 0 0 0 21.12 7.1c11.83 0 20.11-6.28 20.11-16.82v-.16c.04-9.34-6.11-13.6-17.98-16.5z"></path>
</svg>    </a>
  </div>

  <div class="header-middle-area">

    <nav class="main-nav" id="main-nav">

  <ul>

    <li class="articles">
      <a href="https://css-tricks.com/archives/">
        <span>Articles</span>
      </a>
    </li>

    <li class="videos">
      <a href="https://css-tricks.com/video-screencasts/">
        <span>Videos</span>
      </a>
    </li>

    <li class="almanac">
      <a href="https://css-tricks.com/almanac/">
        <span>Almanac</span>
      </a>
    </li>

    <li class="newsletter">
      <a href="https://css-tricks.com/newsletters/">
        <span>Newsletter</span>
      </a>
    </li>

    <li class="guides">
      <a href="https://css-tricks.com/guides/">
        <span>Guides</span>
      </a>
    </li>

  </ul>

</nav>

<div class="search-and-account">

  <a href="https://www.google.com/search?q=site:css-tricks.com%20layout" class="jetpack-search-filter__link">
    <span class="screen-reader-text">Search</span>
    <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M15.0726 10.4326C12.4801 10.4326 10.4 12.5451 10.4 15.1053C10.4 17.6978 12.5125 19.7779 15.0726 19.7779C17.6651 19.7779 19.7453 17.6654 19.7453 15.1053C19.744 12.544 17.664 10.4326 15.0726 10.4326Z" fill="white"></path>
<path d="M16.0327 0.447479C7.42401 0.447479 0.447693 7.4238 0.447693 16.0324C0.447693 24.6398 7.42401 31.6161 16.0314 31.6161C24.64 31.6161 31.6163 24.6398 31.6163 16.0324C31.6163 7.4238 24.64 0.447479 16.0327 0.447479ZM23.6163 24.0324C23.3926 24.2562 23.0401 24.385 22.6563 24.385C22.2726 24.385 21.9526 24.2575 21.6963 24.0324L18.7526 21.0887L18.4651 21.2487C17.4088 21.825 16.2576 22.145 15.0724 22.145C11.1998 22.145 8.06509 19.0087 8.06509 15.1376C8.06509 11.265 11.2013 8.13023 15.0724 8.13023C18.9451 8.13023 22.0798 11.2665 22.0798 15.1376C22.0798 16.5138 21.6961 17.8251 20.9273 18.9776L20.7348 19.2976L23.6473 22.2101C23.8711 22.4664 24.0311 22.7864 24.0311 23.1376C23.9998 23.4563 23.8723 23.7763 23.616 24.0326L23.6163 24.0324Z" fill="white"></path>
</svg>
  </a>

</div>
  </div>
  
</header>

  <div class="page-wrap">


<div class="articles-and-sidebar ">

  <main id="post-296088">

    <article>

      <header class="mega-header">

    <style>
    html {
      --featured-img: url(https://css-tricks.com/wp-content/uploads/2019/09/sun-moon.png);
      --bg-blend-mode: multiply;
      background-size: 120% 2000px, 100% auto;
    }
  </style>
  
    <div class="tags">
    <a href="https://css-tricks.com/tag/dark-mode/" rel="tag">dark mode</a> <a href="https://css-tricks.com/tag/prefers-color-scheme/" rel="tag">prefers-color-scheme</a> <a href="https://css-tricks.com/tag/react-hooks/" rel="tag">react hooks</a>  </div>

  <h1 class="article-title">
          A Dark Mode Toggle with React and&nbsp;ThemeProvider      </h1>

      <div class="author-row">

    
          <a href="https://css-tricks.com/author/maksakymenko/" aria-label="Author page of Maks Akymenko">
        <img alt="Avatar of Maks Akymenko" class="avatar avatar-80 photo avatar-default jetpack-lazy-image jetpack-lazy-image--handled" height="80" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/maks-80x80.jpg" width="80" data-lazy-loaded="1" loading="eager"><noscript><img alt="Avatar of Maks Akymenko" class="avatar avatar-80 photo avatar-default" height="80" src="https://css-tricks.com/wp-content/uploads/2019/08/maks-80x80.jpg" width="80"></noscript>      </a>
    
    <div>
      
              
        <a class="author-name" href="https://css-tricks.com/author/maksakymenko/">
          Maks Akymenko        </a>
      
        on
          
      <time datetime="">
        Sep 25, 2019      </time>

      
    </div>

  
</div>
  
</header>
        <div class="article-sponsor">

  
      <p>
  <a href="https://try.digitalocean.com/css-tricks/?utm_source=css-tricks.com&amp;utm_medium=cta&amp;utm_campaign=website_link">Get $100</a> to try DigitalOcean
</p>
    
</div>
        <div class="article-content">

          
          <p>I like when websites have a dark mode option. <a href="https://css-tricks.com/dark-modes-with-css/">Dark mode</a> makes web pages easier for me to read and helps my eyes feel more relaxed. Many websites, including YouTube and Twitter, have implemented it already, and we’re starting to see it trickle onto many other sites as well.</p>
<p>In this tutorial, we’re going to build a toggle that allows users to switch between light and dark modes, using a <code><a href="https://www.styled-components.com/docs/advanced" rel="noopener">&lt;ThemeProvider</a></code> wrapper from the <a href="https://www.styled-components.com/" rel="noopener">styled-components</a> library. We’ll create a <code>useDarkMode</code> custom hook, which supports the <code><a href="https://www.chromestatus.com/feature/5109758977638400" rel="noopener">prefers-color-scheme</a></code> media query to set the mode according to the user’s <abbr title="Operating System">OS</abbr> color scheme settings.</p>
<p>If that sounds hard, I promise it’s not! Let’s dig in and make it happen.</p>
<p><span id="more-296088"></span></p>
<div class="cp_embed_wrapper resizable" style="height: 300px;"><iframe allowfullscreen="true" allowpaymentrequest="true" allowtransparency="true" class="cp_embed_iframe " frameborder="0" height="300" width="100%" name="cp_embed_1" scrolling="no" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/mdbpeXm(1).html" style="width: 100%; overflow: hidden; display: block; height: 100%;" title="Day/night mode switch toggle with React and ThemeProvider" loading="lazy" id="cp_embed_mdbpeXm"></iframe><div class="win-size-grip" style="touch-action: none;"></div></div>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-lets-set-things-up" aria-hidden="true" class="aal_anchor" id="aa-lets-set-things-up"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Let’s set things up</h3>
<p>We’ll use  <a href="https://create-react-app.dev/docs/getting-started" rel="noopener">create-react-app</a> to initiate a new project:</p>
<pre rel="Terminal" class=" language-markdown"><code class=" language-markdown">npx create-react-app my-app
cd my-app
yarn start</code></pre>
<p>Next, open a separate terminal window and install styled-components:</p>
<pre rel="Terminal" class=" language-markdown"><code class=" language-markdown">yarn add styled-components</code></pre>
<p>Next thing to do is create two files. The first is <code>global.js</code>, which will contain our base styling, and the second is <code>theme.js</code>, which will include variables for our dark and light themes:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// theme.js</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> lightTheme <span class="token operator">=</span> <span class="token punctuation">{</span>
  body<span class="token punctuation">:</span> <span class="token string">'#E2E2E2'</span><span class="token punctuation">,</span>
  text<span class="token punctuation">:</span> <span class="token string">'#363537'</span><span class="token punctuation">,</span>
  toggleBorder<span class="token punctuation">:</span> <span class="token string">'#FFF'</span><span class="token punctuation">,</span>
  gradient<span class="token punctuation">:</span> <span class="token string">'linear-gradient(#39598A, #79D7ED)'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> darkTheme <span class="token operator">=</span> <span class="token punctuation">{</span>
  body<span class="token punctuation">:</span> <span class="token string">'#363537'</span><span class="token punctuation">,</span>
  text<span class="token punctuation">:</span> <span class="token string">'#FAFAFA'</span><span class="token punctuation">,</span>
  toggleBorder<span class="token punctuation">:</span> <span class="token string">'#6B8096'</span><span class="token punctuation">,</span>
  gradient<span class="token punctuation">:</span> <span class="token string">'linear-gradient(#091236, #1E215D)'</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span></code></pre>
<p>Feel free to customize variables any way you want, because this code is used just for demonstration purposes. </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// global.js</span>
<span class="token comment">// Source: https://github.com/maximakymenko/react-day-night-toggle-app/blob/master/src/global.js#L23-L41</span>

<span class="token keyword">import</span> <span class="token punctuation">{</span> createGlobalStyle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> GlobalStyles <span class="token operator">=</span> createGlobalStyle`
  <span class="token operator">*</span><span class="token punctuation">,</span>
  <span class="token operator">*</span><span class="token punctuation">:</span><span class="token punctuation">:</span>after<span class="token punctuation">,</span>
  <span class="token operator">*</span><span class="token punctuation">:</span><span class="token punctuation">:</span>before <span class="token punctuation">{</span>
    box<span class="token operator">-</span>sizing<span class="token punctuation">:</span> border<span class="token operator">-</span>box<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  body <span class="token punctuation">{</span>
    align<span class="token operator">-</span>items<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    background<span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> theme<span class="token punctuation">.</span>body<span class="token punctuation">}</span><span class="token punctuation">;</span>
    color<span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> theme<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token punctuation">;</span>
    display<span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    flex<span class="token operator">-</span>direction<span class="token punctuation">:</span> column<span class="token punctuation">;</span>
    justify<span class="token operator">-</span>content<span class="token punctuation">:</span> center<span class="token punctuation">;</span>
    height<span class="token punctuation">:</span> <span class="token number">100</span>vh<span class="token punctuation">;</span>
    margin<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    padding<span class="token punctuation">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    font<span class="token operator">-</span>family<span class="token punctuation">:</span> BlinkMacSystemFont<span class="token punctuation">,</span> <span class="token operator">-</span>apple<span class="token operator">-</span>system<span class="token punctuation">,</span> <span class="token string">'Segoe UI'</span><span class="token punctuation">,</span> Roboto<span class="token punctuation">,</span> Helvetica<span class="token punctuation">,</span> Arial<span class="token punctuation">,</span> sans<span class="token operator">-</span>serif<span class="token punctuation">;</span>
    transition<span class="token punctuation">:</span> all <span class="token number">0.25</span>s linear<span class="token punctuation">;</span>
  <span class="token punctuation">}</span></code></pre>
<p>Go to the App.js file. We’re going to delete everything in there and add the layout for our app. Here’s what I did:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lightTheme<span class="token punctuation">,</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./theme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GlobalStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./global'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>lightTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>button<span class="token operator">&gt;</span>Toggle theme<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>It's a light theme<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre>
<p>This imports our light and dark themes. The <code>ThemeProvider</code> component also gets imported and is passed the light theme (<code>lightTheme</code>) styles inside. We also import <code>GlobalStyles</code> to tighten everything up in one place.</p>
<p>Here’s roughly what we have so far:</p>
<figure id="post-296089" class="align-left media-296089"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/darktoggle-01.png" alt="" data-recalc-dims="1" class="jetpack-lazy-image jetpack-lazy-image--handled" data-lazy-loaded="1" loading="eager"><noscript><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/darktoggle-01.png?ssl=1" alt="" data-recalc-dims="1" /></noscript></figure>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-now-the-toggling-functionality" aria-hidden="true" class="aal_anchor" id="aa-now-the-toggling-functionality"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Now, the toggling functionality</h3>
<p>There is no magic switching between themes yet, so let’s implement toggling functionality. We are only going to need a couple lines of code to make it work.</p>
<p>First, import the <code>useState</code> hook from <code>react</code>:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span></code></pre>
<p>Next, use the hook to create a local state which will keep track of the current theme and add a function to switch between themes on click: </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// The function that toggles between themes</span>
<span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// if the theme is not light, then set it to dark</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// otherwise, it should be light</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre>
<p>After that, all that’s left is to pass this function to our button element and conditionally change the theme. Take a look: </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">import</span> React<span class="token punctuation">,</span> <span class="token punctuation">{</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lightTheme<span class="token punctuation">,</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./theme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GlobalStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./global'</span><span class="token punctuation">;</span>

<span class="token comment">// The function that toggles between themes</span>
<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  
  <span class="token comment">// Return the layout based on the current theme</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> lightTheme <span class="token punctuation">:</span> darkTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token comment">// Pass the toggle functionality to the button</span>
        <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span><span class="token operator">&gt;</span>Toggle theme<span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>It's a light theme<span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span></code></pre>
<figure id="post-296090" class="align-left media-296090"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/darktoggle-02.gif" alt="" data-recalc-dims="1" class="jetpack-lazy-image jetpack-lazy-image--handled" data-lazy-loaded="1" loading="eager"><noscript><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/darktoggle-02.gif?ssl=1" alt="" data-recalc-dims="1" /></noscript></figure>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-how-does-it-work" aria-hidden="true" class="aal_anchor" id="aa-how-does-it-work"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How does it work?</h3>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// global.js</span>
background<span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> theme<span class="token punctuation">.</span>body<span class="token punctuation">}</span><span class="token punctuation">;</span>
color<span class="token punctuation">:</span> $<span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> theme<span class="token punctuation">.</span>text<span class="token punctuation">}</span><span class="token punctuation">;</span>
transition<span class="token punctuation">:</span> all <span class="token number">0.25</span>s linear<span class="token punctuation">;</span></code></pre>
<p>Earlier in our <code>GlobalStyles</code>, we assigned <code>background</code> and <code>color</code> properties to values from the <code>theme</code> object, so now, every time we switch the toggle, values change depending on the <code>darkTheme</code> and <code>lightTheme</code> objects that we are passing to <code>ThemeProvider</code>. The <code>transition</code> property allows us to make this change a little more smoothly than working with keyframe animations.</p>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-now-we-need-the-toggle-component" aria-hidden="true" class="aal_anchor" id="aa-now-we-need-the-toggle-component"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Now we need the toggle component</h3>
<p>We’re generally done here because you now know how to create toggling functionality. However, we can always do better, so let’s improve the app by creating a custom <code>Toggle</code> component and make our switch functionality reusable. That’s one of the key benefits to making this in React, right?</p>
<p>We’ll keep everything inside one file for simplicity’s sake,, so let’s create a new one called <code>Toggle.js</code> and add the following: </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// Toggle.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> func<span class="token punctuation">,</span> string <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'prop-types'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> styled <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>
<span class="token comment">// Import a couple of SVG files we'll use in the design: https://www.flaticon.com</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ReactComponent <span class="token keyword">as</span> MoonIcon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'icons/moon.svg'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ReactComponent <span class="token keyword">as</span> SunIcon <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'icons/sun.svg'</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">Toggle</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span> theme<span class="token punctuation">,</span> toggleTheme <span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> isLight <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span> <span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>SunIcon <span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span>MoonIcon <span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

Toggle<span class="token punctuation">.</span>propTypes <span class="token operator">=</span> <span class="token punctuation">{</span>
  theme<span class="token punctuation">:</span> string<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
  toggleTheme<span class="token punctuation">:</span> func<span class="token punctuation">.</span>isRequired<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> Toggle<span class="token punctuation">;</span></code></pre>
<p class="explanation">You can download icons from <a href="https://www.flaticon.com/free-icon/moon_2033921#term=moon&amp;page=1&amp;position=53" rel="noopener">here</a> and <a href="https://www.flaticon.com/free-icon/sun_1164954#term=sun&amp;page=1&amp;position=39" rel="noopener">here</a>. Also, if we want to use icons as components, remember about <a href="https://create-react-app.dev/docs/adding-images-fonts-and-files" rel="noopener">importing them as React components</a>.</p>
<p>We passed two props inside: the <code>theme</code> will provide the current theme (light or dark) and <code>toggleTheme</code> function will be used to switch between them. Below we created an <code>isLight</code> variable, which will return a boolean value depending on our current theme. We’ll pass it later to our styled component.</p>
<p>We’ve also imported a <code>styled</code> function from styled-components, so let’s use it. Feel free to add this on top your file after the imports or create a dedicated file for that (e.g. Toggle.styled.js) like I have below. Again, this is purely for presentation purposes, so you can style your component as you see fit.</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// Toggle.styled.js</span>
<span class="token keyword">const</span> ToggleContainer <span class="token operator">=</span> styled<span class="token punctuation">.</span>button<span class="token template-string"><span class="token string">`
  background: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">{</span> theme <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) =&gt; theme.gradient};
  border: 2px solid </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">{</span> theme <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) =&gt; theme.toggleBorder};
  border-radius: 30px;
  cursor: pointer;
  display: flex;
  font-size: 0.5rem;
  justify-content: space-between;
  margin: 0 auto;
  overflow: hidden;
  padding: 0.5rem;
  position: relative;
  width: 8rem;
  height: 4rem;

  svg {
    height: auto;
    width: 2.5rem;
    transition: all 0.3s linear;
    
    // sun icon
    &amp;:first-child {
      transform: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lightTheme <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) =&gt; lightTheme ? 'translateY(0)' : 'translateY(100px)'};
    }
    
    // moon icon
    &amp;:nth-child(2) {
      transform: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token punctuation">(</span><span class="token punctuation">{</span> lightTheme <span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">) =&gt; lightTheme ? 'translateY(-100px)' : 'translateY(0)'};
    }
  }
`</span></span><span class="token punctuation">;</span></code></pre>
<p>Importing icons as components allows us to directly change the styles of the SVG icons. We’re checking if the <code>lightTheme</code> is an active one, and if so, we move the appropriate icon out of the visible area — sort of like the moon going away when it’s daytime and vice versa.</p>
<p>Don’t forget to replace the button with the <code>ToggleContainer</code> component in Toggle.js, regardless of whether you’re styling in separate file or directly in Toggle.js. Be sure to pass the <code>isLight</code> variable to it to specify the current theme. I called the prop <code>lightTheme</code> so it would clearly reflect its purpose.</p>
<p>The last thing to do is import our component inside App.js and pass required props to it. Also, to add a bit more interactivity, I’ve passed condition to toggle between “light” and “dark” in the heading when the theme changes:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token operator">&lt;</span>Toggle theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span> toggleTheme<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>It<span class="token string">'s a {theme === '</span>light<span class="token string">' ? '</span>light theme<span class="token string">' : '</span>dark theme'<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span></code></pre>
<p>Don’t forget to credit the <a href="http://flaticon.com/" rel="noopener">flaticon.com</a> authors for the providing the icons.</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>Credits<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>small<span class="token operator">&gt;</span><span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>Sun<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span> icon made by <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com/authors/smalllikeart"</span><span class="token operator">&gt;</span>smalllikeart<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com"</span><span class="token operator">&gt;</span>www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>small<span class="token operator">&gt;</span><span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>Moon<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span> icon made by <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.freepik.com/home"</span><span class="token operator">&gt;</span>Freepik<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com"</span><span class="token operator">&gt;</span>www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span></code></pre>
<p>Now that’s better: </p>
<figure id="post-296093" class="align-left media-296093"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/darktoggle-03.gif" alt="" data-recalc-dims="1" class="jetpack-lazy-image jetpack-lazy-image--handled" data-lazy-loaded="1" loading="eager"><noscript><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/darktoggle-03.gif?ssl=1" alt="" data-recalc-dims="1" /></noscript></figure>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-the-usedarkmode-hook" aria-hidden="true" class="aal_anchor" id="aa-the-usedarkmode-hook"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>The useDarkMode hook</h3>
<p>While building an application, we should keep in mind that the app must be scalable, meaning, reusable, so we can use in it many places, or even different projects.</p>
<p>That is why it would be great if we move our toggle functionality to a separate place — so, why not to create a dedicated account hook for that?</p>
<p>Let’s create a new file called useDarkMode.js in the project <code>src</code>  directory and move our logic into this file with some tweaks:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useDarkMode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> <span class="token string">'dark'</span><span class="token punctuation">)</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    localTheme <span class="token operator">&amp;&amp;</span> <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>We’ve added a couple of things here. We want our theme to persist between sessions in the browser, so if someone has chosen a dark theme, that’s what they’ll get on the next visit to the app. That’s a huge <abbr>UX</abbr> improvement. For this reasons we use <code>localStorage</code>.</p>
<p>We’ve also implemented the <code><a href="https://css-tricks.com/intro-to-react-hooks/#article-header-id-1">useEffect</a></code> hook to check on component mounting. If the user has previously selected a theme, we will pass it to our <code>setTheme</code> function. In the end, we will return our <code>theme</code>, which contains the chosen <code>theme</code> and <code>toggleTheme</code> function to switch between modes.</p>
<p>Now, let’s implement the <code>useDarkMode</code> hook. Go into App.js, import the newly created hook, destructure our <code>theme</code> and <code>toggleTheme</code> properties from the hook, and, put them where they belong:</p>
<pre rel="JavaScript" data-line="4,10,17" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDarkMode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./useDarkMode'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lightTheme<span class="token punctuation">,</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./theme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GlobalStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./global'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Toggle <span class="token keyword">from</span> <span class="token string">'./components/Toggle'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useDarkMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> themeMode <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> lightTheme <span class="token punctuation">:</span> darkTheme<span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>themeMode<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Toggle theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span> toggleTheme<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>It<span class="token string">'s a {theme === '</span>light<span class="token string">' ? '</span>light theme<span class="token string">' : '</span>dark theme'<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
          Credits<span class="token punctuation">:</span>
          <span class="token operator">&lt;</span>small<span class="token operator">&gt;</span>Sun icon made by smalllikeart <span class="token keyword">from</span> www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>small<span class="token operator">&gt;</span>Moon icon made by Freepik <span class="token keyword">from</span> www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><div aria-hidden="true" data-range="4" class=" line-highlight" data-start="4" style="top: 84px;"> 
</div><div aria-hidden="true" data-range="10" class=" line-highlight" data-start="10" style="top: 252px;"> 
</div><div aria-hidden="true" data-range="17" class=" line-highlight" data-start="17" style="top: 448px;"> 
</div></code></pre>
<p>This <em>almost</em> works almost perfectly, but there is one small thing we can do to make our experience better. Switch to dark theme and reload the page. Do you see that the sun icon loads before the moon icon for a brief moment?</p>
<p>That happens because our <code>useState</code> hook initiates the <code>light</code> theme initially. After that, <code>useEffect</code> runs, checks <code>localStorage</code> and only then sets the <code>theme</code> to <code>dark</code>.</p>
<p>So far, I found two solutions. The first is to check if there is a value in <code>localStorage</code> in our <code>useState</code>: </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
<p>However, I am not sure if it’s a good practice to do checks like that inside <code>useState</code>, so let me show you a second solution, that I’m using.</p>
<p>This one will be a bit more complicated. We will create another state and call it <code>componentMounted</code>. Then, inside the <code>useEffect</code> hook, where we check our <code>localTheme</code>, we’ll add an <code>else</code> statement, and if there is no <code>theme</code>  in <code>localStorage</code>, we’ll add it. After that, we’ll set <code>setComponentMounted</code> to <code>true</code>. In the end, we add <code>componentMounted</code> to our return statement. </p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useDarkMode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>componentMounted<span class="token punctuation">,</span> setComponentMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> <span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span>
      window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> <span class="token string">'light'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    <span class="token function">setComponentMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  
  <span class="token keyword">return</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">,</span> componentMounted<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>You might have noticed that we’ve got some pieces of code that are repeated. We always try to follow the <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself" rel="noopener">DRY</a> principle while writing the code, and right here we’ve got a chance to use it. We can create a separate function that will set our state and pass <code>theme</code> to the <code>localStorage</code>. I believe, that the best name for it will be <code>setTheme</code>, but we’ve already used it, so let’s call it <code>setMode</code>:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">setMode</span> <span class="token operator">=</span> <span class="token parameter">mode</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> mode<span class="token punctuation">)</span>
  <span class="token function">setTheme</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>With this function in place, we can refactor our useDarkMode.js a little:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useDarkMode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>componentMounted<span class="token punctuation">,</span> setComponentMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">setMode</span> <span class="token operator">=</span> <span class="token parameter">mode</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> mode<span class="token punctuation">)</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token function">setComponentMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">,</span> componentMounted<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>We’ve only changed code a little, but it looks so much better and is easier to read and understand! </p>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-did-the-component-mount" aria-hidden="true" class="aal_anchor" id="aa-did-the-component-mount"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Did the component mount?</h3>
<p>Getting back to <code>componentMounted</code> property. We will use it to check if our component has mounted because this is what happens in <code>useEffect</code> hook. </p>
<p>If it hasn’t happened yet, we will render an empty div:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>componentMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Here is how complete code for the App.js: </p>
<pre rel="JavaScript" data-line="14,15,16" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// App.js</span>
<span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ThemeProvider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'styled-components'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useDarkMode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./useDarkMode'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> lightTheme<span class="token punctuation">,</span> darkTheme <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./theme'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> GlobalStyles <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'./global'</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> Toggle <span class="token keyword">from</span> <span class="token string">'./components/Toggle'</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">,</span> componentMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useDarkMode</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> themeMode <span class="token operator">=</span> theme <span class="token operator">===</span> <span class="token string">'light'</span> <span class="token operator">?</span> lightTheme <span class="token punctuation">:</span> darkTheme<span class="token punctuation">;</span>

  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>componentMounted<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&lt;</span>div <span class="token operator">/</span><span class="token operator">&gt;</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">(</span>
    <span class="token operator">&lt;</span>ThemeProvider theme<span class="token operator">=</span><span class="token punctuation">{</span>themeMode<span class="token punctuation">}</span><span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>GlobalStyles <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Toggle theme<span class="token operator">=</span><span class="token punctuation">{</span>theme<span class="token punctuation">}</span> toggleTheme<span class="token operator">=</span><span class="token punctuation">{</span>toggleTheme<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>It<span class="token string">'s a {theme === '</span>light<span class="token string">' ? '</span>light theme<span class="token string">' : '</span>dark theme'<span class="token punctuation">}</span><span class="token operator">!</span><span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>footer<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>Credits<span class="token punctuation">:</span><span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>small<span class="token operator">&gt;</span><span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>Sun<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span> icon made by <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com/authors/smalllikeart"</span><span class="token operator">&gt;</span>smalllikeart<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com"</span><span class="token operator">&gt;</span>www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
          <span class="token operator">&lt;</span>small<span class="token operator">&gt;</span><span class="token operator">&lt;</span>b<span class="token operator">&gt;</span>Moon<span class="token operator">&lt;</span><span class="token operator">/</span>b<span class="token operator">&gt;</span> icon made by <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.freepik.com/home"</span><span class="token operator">&gt;</span>Freepik<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span> <span class="token keyword">from</span> <span class="token operator">&lt;</span>a href<span class="token operator">=</span><span class="token string">"https://www.flaticon.com"</span><span class="token operator">&gt;</span>www<span class="token punctuation">.</span>flaticon<span class="token punctuation">.</span>com<span class="token operator">&lt;</span><span class="token operator">/</span>a<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>small<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>footer<span class="token operator">&gt;</span>
      <span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span><span class="token operator">/</span>ThemeProvider<span class="token operator">&gt;</span>
  <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> App<span class="token punctuation">;</span><div aria-hidden="true" data-range="14" class=" line-highlight" data-start="14" style="top: 364px;"> 
</div><div aria-hidden="true" data-range="15" class=" line-highlight" data-start="15" style="top: 392px;"> 
</div><div aria-hidden="true" data-range="16" class=" line-highlight" data-start="16" style="top: 420px;"> 
</div></code></pre>
<h3><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#aa-using-the-users-preferred-color-scheme" aria-hidden="true" class="aal_anchor" id="aa-using-the-users-preferred-color-scheme"><svg aria-hidden="true" class="aal_svg" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Using the user’s preferred color scheme</h3>
<p>This part is not required, but it will let you achieve even better user experience. This media feature is used to detect if the user has requested the page to use a light or dark color theme based on the settings in their <abbr>OS</abbr>. For example, if a user’s default color scheme on a phone or laptop is set to dark, your website will change its color scheme accordingly to it. It’s worth noting that this media query is still a work in progress and is included in the <a href="https://drafts.csswg.org/mediaqueries-5/#descdef-media-prefers-color-scheme" rel="noopener">Media Queries Level 5 specification</a>, which is in Editor’s Draft.</p>
<div class="caniuse"><div class="caniuse-header"><p>This browser support data is from <a href="http://caniuse.com/#feat=prefers-color-scheme" rel="noopener">Caniuse</a>, which has more detail. A number indicates that browser supports the feature at that version and up.</p></div><div class="caniuse-section"><h4>Desktop</h4><table class="browser-support-table"><thead><tr><th class="chrome"><span>Chrome</span></th><th class="firefox"><span>Firefox</span></th><th class="ie"><span>IE</span></th><th class="edge"><span>Edge</span></th><th class="safari"><span>Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Chrome - " data-browser-name="Chrome"><span class="caniuse-agents-version version">76</span></td><td class="y yep" title="Firefox - " data-browser-name="Firefox"><span class="caniuse-agents-version version">67</span></td><td class="n nope" title="IE - " data-browser-name="IE"><span class="caniuse-agents-version version">No</span></td><td class="y yep" title="Edge - " data-browser-name="Edge"><span class="caniuse-agents-version version">79</span></td><td class="y yep" title="Safari - " data-browser-name="Safari"><span class="caniuse-agents-version version">12.1</span></td></tr></tbody></table></div><div class="caniuse-section"><h4>Mobile / Tablet</h4><table class="browser-support-table"><thead><tr><th class="and_chr"><span>Android Chrome</span></th><th class="and_ff"><span>Android Firefox</span></th><th class="android"><span>Android</span></th><th class="ios_saf"><span>iOS Safari</span></th></tr></thead><tbody><tr><td class="y yep" title="Android Chrome - " data-browser-name="Android Chrome"><span class="caniuse-agents-version version">99</span></td><td class="y yep" title="Android Firefox - " data-browser-name="Android Firefox"><span class="caniuse-agents-version version">96</span></td><td class="y yep" title="Android - " data-browser-name="Android"><span class="caniuse-agents-version version">99</span></td><td class="y yep" title="iOS Safari - " data-browser-name="iOS Safari"><span class="caniuse-agents-version version">13.0-13.1</span></td></tr></tbody></table></div></div>
<p>The implementation is pretty straightforward. Because we’re working with a media query, we need to check if the browser supports it in the <code>useEffect</code> hook and set appropriate theme. To do that, we’ll use <code><a href="https://developer.mozilla.org/en-US/docs/Web/API/Window/matchMedia" rel="noopener">window.matchMedia</a></code> to check if it exists and whether dark mode is supported. We also need to remember about the <code>localTheme</code> because, if it’s available, we don’t want to overwrite it with the dark value unless, of course, the value is set to light.</p>
<p>If all checks are passed, we will set the dark theme.</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>
  window<span class="token punctuation">.</span>matchMedia <span class="token operator">&amp;&amp;</span>
  window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">'(prefers-color-scheme: dark)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>matches <span class="token operator">&amp;&amp;</span> 
  <span class="token operator">!</span>localTheme
<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token function">setTheme</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>As mentioned before, we need to remember about the existence of <code>localTheme</code> — that’s why we need to implement our previous logic where we’ve checked for it.</p>
<p>Here’s what we had from before:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
<p>Let’s mix it up. I’ve replaced the if and else statements with ternary operators to make things a little more readable as well: </p>
<pre rel="JavaScript" data-line="5" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
<span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
window<span class="token punctuation">.</span>matchMedia <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">'(prefers-color-scheme: dark)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>matches <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>localTheme <span class="token operator">?</span>
  <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
  localTheme <span class="token operator">?</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span> <span class="token punctuation">:</span>
    <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><div aria-hidden="true" data-range="5" class=" line-highlight" data-start="5" style="top: 112px;"> 
</div></code></pre>
<p>Here’s the userDarkMode.js file with the complete code:</p>
<pre rel="JavaScript" class=" language-javascript"><code class=" language-javascript"><span class="token comment">// useDarkMode.js</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect<span class="token punctuation">,</span> useState <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">useDarkMode</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> setTheme<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token punctuation">[</span>componentMounted<span class="token punctuation">,</span> setComponentMounted<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token function-variable function">setMode</span> <span class="token operator">=</span> <span class="token parameter">mode</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">setItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">,</span> mode<span class="token punctuation">)</span>
    <span class="token function">setTheme</span><span class="token punctuation">(</span>mode<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token keyword">const</span> <span class="token function-variable function">toggleTheme</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>theme <span class="token operator">===</span> <span class="token string">'light'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>

  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> localTheme <span class="token operator">=</span> window<span class="token punctuation">.</span>localStorage<span class="token punctuation">.</span><span class="token function">getItem</span><span class="token punctuation">(</span><span class="token string">'theme'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    window<span class="token punctuation">.</span>matchMedia <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><span class="token string">'(prefers-color-scheme: dark)'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>matches <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>localTheme <span class="token operator">?</span>
      <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'dark'</span><span class="token punctuation">)</span> <span class="token punctuation">:</span>
      localTheme <span class="token operator">?</span>
        <span class="token function">setTheme</span><span class="token punctuation">(</span>localTheme<span class="token punctuation">)</span> <span class="token punctuation">:</span>
        <span class="token function">setMode</span><span class="token punctuation">(</span><span class="token string">'light'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">setComponentMounted</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token keyword">return</span> <span class="token punctuation">[</span>theme<span class="token punctuation">,</span> toggleTheme<span class="token punctuation">,</span> componentMounted<span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
<p>Give it a try! It changes the mode, persists the theme in <code>localStorage</code>, and also sets the default theme accordingly to the <abbr>OS</abbr> color scheme if it’s available. </p>
<figure id="post-296094" class="align-left media-296094"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/darktoggle-04.gif" alt="" data-recalc-dims="1" class="jetpack-lazy-image jetpack-lazy-image--handled" data-lazy-loaded="1" loading="eager"><noscript><img src="https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/darktoggle-04.gif?ssl=1" alt="" data-recalc-dims="1" /></noscript></figure>
<hr>
<p>Congratulations, my friend! Great job! If you have any questions about implementation, feel free to <a href="https://twitter.com/maks_akymenko" rel="noopener">send me a message</a>! </p>

          
        </div>

    </article>

  </main>

      <div class="entry-unrelated sidebar">

  
      <div id="all-modules"><div class="single-module single-module-Jotform module-5">
                  <div class="module">
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QUCTAICZ3JCYBD553ICY7DE53KC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">
                      <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1645799892-1645796797-jotform-csstrick.jpg" alt="Ad for Jotform" height="300" width="300">
                    </a>
                  </div>
                  <div class="interlude">
                    <a class="spon-title" href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsored</a>
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QUCTAICZ3JCYBD553ICY7DE53KC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">Create custom forms and embed them in your site. Sync with 100+ apps. No coding or plugins required!</a>
                  </div>
                  
                </div><div class="single-module single-module-Kore module-4">
                  <div class="module">
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52JJCYSIVZ3JCYBD553ICYYIL2JKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">
                      <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1645819345-White_Logo_250x100.png" alt="Ad for Kore" height="300" width="300">
                    </a>
                  </div>
                  <div class="interlude">
                    <a class="spon-title" href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsored</a>
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52JJCYSIVZ3JCYBD553ICYYIL2JKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">Industry leading conversational AI platform for creating optimized customer &amp; employee experiences</a>
                  </div>
                  
                </div><div class="single-module single-module-Mux module-3">
                  <div class="module">
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCAYICZ3JCYBD527UCE7D65QKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">
                      <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1629117008-2021-08-16_mux_1_.png" alt="Ad for Mux" height="300" width="300">
                    </a>
                  </div>
                  <div class="interlude">
                    <a class="spon-title" href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsored</a>
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCAYICZ3JCYBD527UCE7D65QKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">Build video for your app that Just Works™. Mux's Video API makes it super easy to build video or live streaming.</a>
                  </div>
                  
                </div><div class="single-module single-module-Memberful module-2">
                  <div class="module">
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCWSDLZ3JCYBD553ICY7ILKJKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">
                      <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1645815575-unnamed-2.png" alt="Ad for Memberful" height="300" width="300">
                    </a>
                  </div>
                  <div class="interlude">
                    <a class="spon-title" href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsored</a>
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCWSDLZ3JCYBD553ICY7ILKJKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">Don't worry about payment gateways or auto-emails. We take care of the hard stuff. Learn more.</a>
                  </div>
                  
                </div><div class="single-module single-module-Mailchimp module-1">
                  <div class="module">
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCKAIVZ3JCYBD553ICVSI4KJKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">
                      <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1646327381-MC_CSSTricks_Logo_600x600-_1_.png" alt="Ad for Mailchimp" height="300" width="300">
                    </a>
                  </div>
                  <div class="interlude">
                    <a class="spon-title" href="https://www.notion.so/csstricks/Sponsorship-Possibilities-cb5b33a3f6f64c239220547fe7965d78">Sponsored</a>
                    <a href="https://srv.buysellads.com/ads/click/x/GTND42JWCA7I523WC6SLYKQNCESI52QMCKAIVZ3JCYBD553ICVSI4KJKC67D5KJUCAYDKK3LCEADC2JYCYYIKKQUHEYIK23UCKBD6K3ECTNCYBZ52K">Sign up for Mailchimp to build easy-to-use email automations that help guide customers to purchases.</a>
                  </div>
                  <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/B25600467.329212949" alt="">
                </div>

      <div id="scroll-ad-position"></div>
      <div id="sticky-sidebar-stuff" class="">
        <div class="fem-conditional-message">

          <div class="fem-ad fem-sidebar-ad">
            <div class="fem-header">
              <div class="fem-header-inner">
                <div class="fem-learning-partner">
                  Our Learning Partner
                </div>
                <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/fem_react_vrxkhh.png" alt="Frontend Masters logo" class="fem-logo"></a>
                <div class="fem-title">
                  Frontend Masters
                </div>
              </div>
            </div>
            <div class="fem-message">
              <h4>Wanna learn React deeply?</h4>
                  <p>React is the web's most popular framework, always topping the charts for JavaScript developers awareness, interest, and satisfaction. Not to mention so many jobs listing it as a requirement these days. <a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> has the best courses on the web for React, including <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">a complete learning course</a> from the best teachers in JavaScript.</p>
            </div>
          </div>
</div>      <div id="carbonads" class="showing"><span><span class="carbon-wrap"><a href="https://srv.carbonads.net/ads/click/x/GTND42JWCA7I42JMC67LYKQNCESI52JJCV7IKZ3JCYBD553ICYBIEK7KC67D5KJUCAYDKK3LCEADC2JYCYYIKKJNHEYIK23UCKBD6K3ECTNCYBZ52K?segment=placement:csstrickscom;" class="carbon-img" target="_blank" rel="noopener sponsored"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/1645713861-1635182892-260x200-white-logo-blue-background.png" alt="ads via Carbon" border="0" height="100" width="130" style="max-width: 130px;"></a><a href="https://srv.carbonads.net/ads/click/x/GTND42JWCA7I42JMC67LYKQNCESI52JJCV7IKZ3JCYBD553ICYBIEK7KC67D5KJUCAYDKK3LCEADC2JYCYYIKKJNHEYIK23UCKBD6K3ECTNCYBZ52K?segment=placement:csstrickscom;" class="carbon-text" target="_blank" rel="noopener sponsored">Powerful cloud compute at an unbeatable price. Claim your $100 credit for Vultr today.</a></span><a href="http://carbonads.net/?utm_source=csstrickscom&amp;utm_medium=ad_via_link&amp;utm_campaign=in_unit&amp;utm_term=carbon" class="carbon-poweredby" target="_blank" rel="noopener sponsored">ads via Carbon</a></span></div></div>
    </div>
  
  </div>
  
</div>

<div class="related-ads-comments-wrap">
  <div class="related-ads-comments">
    <div class="end-of-article-ads">

      <div class="bsap-doubles side-by-side">

      <div id="bsap_1250418" class="bsap_1250418 bsap"></div>

    </div>
  
  <div class="fem-conditional-message">

          <div class="fem-ad fem-footer-ad">
            <div class="fem-header">
              <div class="fem-header-inner">
                <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar"><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/fem_react_large_qmp81d.png" alt="Frontend Masters logo" class="fem-logo-large"></a>
              </div>
            </div>

            <div class="fem-message">
              <div>
                <h4>Wanna learn React deeply?</h4>
                    <p>React is the web's most popular framework, always topping the charts for JavaScript developers awareness, interest, and satisfaction. Not to mention so many jobs listing it as a requirement these days. <a href="https://frontendmasters.com/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">Frontend Masters</a> has the best courses on the web for React, including <a href="https://frontendmasters.com/learn/react/?utm_source=css-tricks&amp;utm_medium=website&amp;utm_campaign=css-tricks-tags-sidebar">a complete learning course</a> from the best teachers in JavaScript.</p>
              </div>
            </div>
          </div>
</div>
</div>

<section class="respond-area">

  
    <h2 class="comments-title" id="comments">
      <span>Comments</span>
    </h2>

    
        <ol class="commentlist" id="commentlist">
          
  <li class="comment byuser comment-author-maksakymenko bypostauthor even thread-even depth-1" id="li-comment-1751615">

    <div class="comment-wrap" id="comment-1751615">

      <div class="comment-author-wrap">
        <div class="comment-author">Maks Akymenko</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751615"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-25T08:19:13-07:00">September 25, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Cool! I love it! Great job!</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751615" data-commentid="1751615" data-postid="296088" data-belowelement="comment-1751615" data-respondelement="respond" data-replyto="Reply to Maks Akymenko" aria-label="Reply to Maks Akymenko">Reply</a>        </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1751623">

    <div class="comment-wrap" id="comment-1751623">

      <div class="comment-author-wrap">
        <div class="comment-author">E.</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751623"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-25T12:46:33-07:00">September 25, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Seems like a lot when you could have a body class like <code>theme-light</code> or <code>theme-dark</code> on the document and in CSS have rules for both. I.e.,<code>.theme-light { background: white; }</code> and  <code>.theme-dark { background: black; }</code>. Maybe add CSS Transitions so the user can switch live and see it change for show-off points.</p>
<p>IMO, a dark mode is 100% a CSS concern. <em>All</em> that React and such for something pretty simple feels like overkill. Makes sense if you already have a React app. The animation and polish is lovely, too!</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751623" data-commentid="1751623" data-postid="296088" data-belowelement="comment-1751623" data-respondelement="respond" data-replyto="Reply to E." aria-label="Reply to E.">Reply</a>        </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment byuser comment-author-maksakymenko bypostauthor even depth-2" id="li-comment-1751639">

    <div class="comment-wrap" id="comment-1751639">

      <div class="comment-author-wrap">
        <div class="comment-author">Maks Akymenko</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751639"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-26T06:56:38-07:00">September 26, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hey there! Every technology has its use-cases and I wanted to show only one of many ways, how you could implement this functionality. I didn’t mean that if you want Dark Theme, do it like that, I just wanted to show the possible way, when you’ve got a React app already with styled-components :)</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1751624">

    <div class="comment-wrap" id="comment-1751624">

      <div class="comment-author-wrap">
        <div class="comment-author">Mike</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751624"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-25T13:24:54-07:00">September 25, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>I’ve used ThemeProvider with MaterialUI before and my issue has always come when writing tests. Everything starts breaking without the context and you end up wrapping all your test cases in ThemeProvider’s. MaterialUI provides specially wrapped enzyme functions for this purpose but they didn’t always work and added an extra layer of complexity to our tests</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751624" data-commentid="1751624" data-postid="296088" data-belowelement="comment-1751624" data-respondelement="respond" data-replyto="Reply to Mike" aria-label="Reply to Mike">Reply</a>        </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment even thread-odd thread-alt depth-1" id="li-comment-1751625">

    <div class="comment-wrap" id="comment-1751625">

      <div class="comment-author-wrap">
        <div class="comment-author">Al Rubel Rana</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751625"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-25T22:49:30-07:00">September 25, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>May I misunderstand your explanations but why make the dark/light mode that much complicated (additional dependencies and components in your tree)?<br>
A hook on the bootstrap of the application which alters the body’s class to toggle he right CSS definitions sound doing the job.<br>
From your experience, what have been the pros to adopt your solution rather than a more traditional CSS approach?<br>
What I realized from my experience is that good developers are frequently bad at writing CSS. And writing a dark/light CSS approach can be challenging!<br>
Thanks for sharing your knowledge thought. It’s pleasant to read your article.</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751625" data-commentid="1751625" data-postid="296088" data-belowelement="comment-1751625" data-respondelement="respond" data-replyto="Reply to Al Rubel Rana" aria-label="Reply to Al Rubel Rana">Reply</a>        </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment byuser comment-author-maksakymenko bypostauthor odd alt depth-2" id="li-comment-1751640">

    <div class="comment-wrap" id="comment-1751640">

      <div class="comment-author-wrap">
        <div class="comment-author">Maks Akymenko</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1751640"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-09-26T07:11:53-07:00">September 26, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hi!<br>
The main purpose of this article is to show only one of the possible implementations of the Dark Mode functionality and let people dive deeper into how things work, like <code>ThemeProvider</code>, <code>GlobalStyles</code>, <code>prefers-color-scheme</code>, etc.</p>
<p>You are right, this is not the simplest solutions, however, many projects already use styled-components, and that might work out well for them.</p>
<p>I think, it mostly depends on your project and its requirements, when you choose, what solution to adopt. Because there is no one perfect solution, all of them has own pros and cons :)</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment even thread-even depth-1" id="li-comment-1752192">

    <div class="comment-wrap" id="comment-1752192">

      <div class="comment-author-wrap">
        <div class="comment-author">drew davenport</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1752192"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-10-24T09:13:40-07:00">October 24, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Loved this! Great to learn something new everyday!</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1752192" data-commentid="1752192" data-postid="296088" data-belowelement="comment-1752192" data-respondelement="respond" data-replyto="Reply to drew davenport" aria-label="Reply to drew davenport">Reply</a>        </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->

  <li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-1752865">

    <div class="comment-wrap" id="comment-1752865">

      <div class="comment-author-wrap">
        <div class="comment-author">Lucas</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1752865"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-12-02T08:22:47-08:00">December 2, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Thank you, love this!</p>
<p>I tried to implement this and having my toggle switch nested in one the child components. I thought if i called  toggleTheme() from anywhere, it’d re-render the whole DOM tree, but it seems not.</p>
<p>Am i right in assuming that I’d need to use React Context to do this?</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1752865" data-commentid="1752865" data-postid="296088" data-belowelement="comment-1752865" data-respondelement="respond" data-replyto="Reply to Lucas" aria-label="Reply to Lucas">Reply</a>        </div>
      </div>

    </div>

    
  
<ul class="children">

  <li class="comment even depth-2" id="li-comment-1794296">

    <div class="comment-wrap" id="comment-1794296">

      <div class="comment-author-wrap">
        <div class="comment-author">msg</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1794296"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2022-02-27T15:26:03-08:00">February 27, 2022</time></div>
      </div>

      
      <div class="comment-content">

        <p>I run into the same issue :( I have my toggle in the “NavBar” component but it only works in the “_app.js”</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
                  </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->

  <li class="comment odd alt thread-even depth-1" id="li-comment-1753104">

    <div class="comment-wrap" id="comment-1753104">

      <div class="comment-author-wrap">
        <div class="comment-author">Christopher Butler</div> <div class="comment-time"><a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1753104"><span class="screen-reader">Permalink to comment</span>#</a> <time datetime="2019-12-16T15:44:23-08:00">December 16, 2019</time></div>
      </div>

      
      <div class="comment-content">

        <p>Hey!<br>
First of all: Awesome article!!<br>
Quick question: I am planning a new react app and would like the option of theming and using styled components, however I was also hoping to use material ui as a ui styling library. Is there a way to combine the two so that I can get the benefit of material ui components but also create custom components with styled components and have the option to theme my app as you’ve shown here? (I know I’m asking a lot  )</p>

      </div>

      <div class="comment-actions">
        <div class="reply">
          <a rel="nofollow" class="comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#comment-1753104" data-commentid="1753104" data-postid="296088" data-belowelement="comment-1753104" data-respondelement="respond" data-replyto="Reply to Christopher Butler" aria-label="Reply to Christopher Butler">Reply</a>        </div>
      </div>

    </div>

    
  
</li><!-- #comment-## -->
        </ol>

      
  
  
    <div class="respond">

      
        <div class="comment-form-form-area">

          	<div id="respond" class="comment-respond">
		<h3 id="reply-title" class="comment-reply-title">Leave a Reply <small><a rel="nofollow" id="cancel-comment-reply-link" href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#respond" style="display:none;">Cancel reply</a></small></h3><form action="https://css-tricks.com/wp-comments-post.php" method="post" id="commentform" class="comment-form"><p class="comment-notes"><span id="email-notes">Your email address will not be published.</span> <span class="required-field-message" aria-hidden="true">Required fields are marked <span class="required" aria-hidden="true">*</span></span></p><p class="comment-form-comment"><label for="comment">Comment <span class="required" aria-hidden="true">*</span></label> <textarea id="comment" name="comment" cols="45" rows="8" maxlength="65525" required="required" placeholder="New Comment! Use `backticks` for code."></textarea><div id="markdown_comment" class="comment-content markdown-comment-preview"></div><div class="preview-buttons" id="preview-buttons">          <a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#0" id="writeCommentButton" class="commentPreviewButton active">Write</a>          <a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#0" id="previewCommentButton" class="commentPreviewButton">Preview</a></div></p><p class="comment-form-author"><label for="author">Name <span class="required" aria-hidden="true">*</span></label> <input id="author" name="author" type="text" value="" size="30" maxlength="245" required="required"></p>
<p class="comment-form-email"><label for="email">Email <span class="required">*</span></label> <input id="email" name="email" type="email" value="" size="30" maxlength="100" aria-describedby="email-notes" required="required"></p>
<p class="comment-form-url"><label for="url">Website</label> <input id="url" name="url" type="text" value="" size="30" maxlength="200"></p>
<p class="comment-form-cookies-consent"><input id="wp-comment-cookies-consent" name="wp-comment-cookies-consent" type="checkbox" value="yes"> <label for="wp-comment-cookies-consent">Save my name, email, and website in this browser for the next time I comment.</label></p>
<!-- Mailchimp for WordPress v4.8.7 - https://www.mc4wp.com/ --><input type="hidden" name="_mc4wp_subscribe_wp-comment-form" value="0"><p class=" mc4wp-checkbox mc4wp-checkbox-wp-comment-form"><label><input type="checkbox" name="_mc4wp_subscribe_wp-comment-form" value="1" checked="checked"><span>Get the CSS-Tricks newsletter</span></label></p><!-- / Mailchimp for WordPress --><p class="form-submit"><input name="submit" type="submit" id="submit" class="submit" value="Post Comment"> <input type="hidden" name="comment_post_ID" value="296088" id="comment_post_ID">
<input type="hidden" name="comment_parent" id="comment_parent" value="0">
</p><p style="display: none;"><input type="hidden" id="akismet_comment_nonce" name="akismet_comment_nonce" value="108e85a62e"></p>		<p class="antispam-group antispam-group-q" style="clear: both; display: none;">
			<label>Copy and paste this code: <strong class="antspmpro-input-a">micuno</strong> <span class="required">*</span></label>
			<input type="hidden" name="antspmpro-a" class="antispam-control antispam-control-a" value="micuno">
			<input type="text" name="antspmpro-q-luwele" class="antispam-control antispam-control-q" value="4.1">
		</p>
		<p class="antispam-group antispam-group-e" style="display: none;">
			<label>Leave this field empty</label>
			<input type="text" name="antspmpro-e-email-url-website-luwele" class="antispam-control antispam-control-e" value="">
		</p>
<p style="display: none !important;"><label>Δ<textarea name="ak_hp_textarea" cols="45" rows="8" maxlength="100"></textarea></label><input type="hidden" id="ak_js_1" name="ak_js" value="1647345409391"></p></form>	</div><!-- #respond -->
	
        </div>

      
    </div>
  
</section>          <div class="related-posts">
  <div id="jp-relatedposts" class="jp-relatedposts" style="display: block;">
	
<div class="jp-relatedposts-items jp-relatedposts-items-visual jp-relatedposts-grid "><div class="jp-relatedposts-post jp-relatedposts-post0 jp-relatedposts-post-nothumbs" data-post-id="287522" data-post-format="false"><a class="jp-relatedposts-post-a jp-relatedposts-post-aoverlay" href="https://css-tricks.com/iterating-a-react-design-with-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=0" title="Iterating a React Design with Styled Components" data-origin="296088" data-position="0"></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://css-tricks.com/iterating-a-react-design-with-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=0" title="Iterating a React Design with Styled Components" data-origin="296088" data-position="0">Iterating a React Design with Styled Components</a></h4><p class="jp-relatedposts-post-excerpt" style="max-height: 8.46154em;">In a perfect world, our projects would have unlimited resources and time. Our teams would begin coding with well thought out and highly refined UX designs. There would be consensus among developers about the best way to approach styling. There’d be one or more CSS gurus on the team who…</p><time class="jp-relatedposts-post-date" datetime="May 16, 2019" style="display: block;">May 16, 2019</time></div><div class="jp-relatedposts-post jp-relatedposts-post1 jp-relatedposts-post-thumbs" data-post-id="295308" data-post-format="false"><a class="jp-relatedposts-post-a" href="https://css-tricks.com/hamburger-menu-with-a-side-of-react-hooks-and-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=1" title="Hamburger Menu with a Side of React Hooks and Styled Components" data-origin="296088" data-position="1"><img class="jp-relatedposts-post-img" loading="lazy" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/react-burger.png" width="350" height="200" alt=""></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://css-tricks.com/hamburger-menu-with-a-side-of-react-hooks-and-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=1" title="Hamburger Menu with a Side of React Hooks and Styled Components" data-origin="296088" data-position="1">Hamburger Menu with a Side of React Hooks and Styled Components</a></h4><p class="jp-relatedposts-post-excerpt">We all know what a hamburger menu is, right? When the pattern started making its way into web designs, it was both mocked and applauded for its minimalism that allows main menus to be tucked off screen, particularly on mobile where every pixel of space counts. CSS-Tricks is all about…</p><time class="jp-relatedposts-post-date" datetime="September 10, 2019" style="display: block;">September 10, 2019</time></div><div class="jp-relatedposts-post jp-relatedposts-post2 jp-relatedposts-post-thumbs" data-post-id="331569" data-post-format="false"><a class="jp-relatedposts-post-a" href="https://css-tricks.com/theming-and-theme-switching-with-react-and-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=2" title="Theming and Theme Switching with React and styled-components" data-origin="296088" data-position="2"><img class="jp-relatedposts-post-img" loading="lazy" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/react-sryled-components-themes.jpg" width="350" height="200" alt=""></a><h4 class="jp-relatedposts-post-title"><a class="jp-relatedposts-post-a" href="https://css-tricks.com/theming-and-theme-switching-with-react-and-styled-components/?relatedposts_hit=1&amp;relatedposts_origin=296088&amp;relatedposts_position=2" title="Theming and Theme Switching with React and styled-components" data-origin="296088" data-position="2">Theming and Theme Switching with React and styled-components</a></h4><p class="jp-relatedposts-post-excerpt">I recently had a project with a requirement to support theming on the website. It was a bit of a strange requirement, as the application is mostly used by a handful of administrators. An even bigger surprise was that they wanted not only to choose between pre-created themes, but build…</p><time class="jp-relatedposts-post-date" datetime="January 7, 2021" style="display: block;">January 7, 2021</time></div></div></div>  <div class="jetpack-sponsored-posts-message">
    <img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/jetpack-logo_cegyqg.svg" alt="Jetpack Logo">
    <p>The related posts above were algorithmically generated and displayed here without any load on our servers at all, <a href="https://jetpack.com/support/related-posts/?aff=8638">thanks to Jetpack</a>.</p>
  </div>
</div>      </div>
</div>

  </div>

  <footer class="site-footer">

    <svg class="icon-logo-star" width="35px" height="35px" viewBox="0 0 362.62 388.52" data-spin-me="false">
  <path d="M156.58,239l-88.3,64.75c-10.59,7.06-18.84,11.77-29.43,11.77-21.19,0-38.85-18.84-38.85-40C0,257.83,14.13,244.88,27.08,239l103.6-44.74L27.08,148.34C13,142.46,0,129.51,0,111.85,0,90.66,18.84,73,40,73c10.6,0,17.66,3.53,28.25,11.77l88.3,64.75L144.81,44.74C141.28,20,157.76,0,181.31,0s40,18.84,36.5,43.56L206,149.52l88.3-64.75C304.93,76.53,313.17,73,323.77,73a39.2,39.2,0,0,1,38.85,38.85c0,18.84-12.95,30.61-27.08,36.5L231.93,194.26,335.54,239c14.13,5.88,27.08,18.83,27.08,37.67,0,21.19-18.84,38.85-40,38.85-9.42,0-17.66-4.71-28.26-11.77L206,239l11.77,104.78c3.53,24.72-12.95,44.74-36.5,44.74s-40-18.84-36.5-43.56Z"></path>
</svg>
    <div class="footer-inside">

      <div class="footer-message-and-form">
        <p class="colophon">
          CSS-Tricks is created by <a href="https://chriscoyier.net/">Chris</a> and a <a href="https://css-tricks.com/about">team</a> of swell&nbsp;people.
        </p>

        <div class="footer-form-wrap">

  <form action="https://chriscoyier.us2.list-manage.com/subscribe/post?u=155f5a9ccc4e24c318130cace&amp;id=197f127a68" method="post" id="mc-embedded-subscribe-form">
    
    <h4>Keep up to date on web dev</h4>

    <p>with our hand-crafted weekly newsletter</p>

    <div class="footer-form">
      <label for="mce-EMAIL" class="screen-reader">Email Address</label>
      <input type="email" name="EMAIL" class="required email mailchimp-email-input" id="mce-EMAIL" placeholder="smart@cookie.com" required="">

      <input type="submit" value="Subscribe" name="Subscribe" id="mc-embedded-subscribe" class="button subscribe-button">
    </div>
        
  </form>
  
</div>      </div>

      <div class="link-grid">

        <div>
          <div>
            <h5>Minisites</h5>
            <ul>
              <li><a href="https://serverless.css-tricks.com/">The Power of Serverless</a></li>
              <li><a href="https://conferences.css-tricks.com/">Upcoming Conferences</a></li>
              <li><a href="https://coding-fonts.css-tricks.com/">Coding Fonts</a></li>
            </ul>
          </div>
        </div>

        <div>
          <div>
            <h5>Contact</h5>
            <ul>
              <li><a href="mailto:team@css-tricks.com">Email</a></li>
              <li><a href="https://css-tricks.com/guest-writing-for-css-tricks/">Guest Writing</a></li>
            </ul>
          </div>
        </div>

        <div>
          <div>
            <h5>Follow</h5>
            <ul style="columns: 2;">
              <li><a href="https://twitter.com/css">Twitter</a></li>
              <li><a href="https://www.instagram.com/real_css_tricks/">Instagram</a></li>
              <li><a href="https://www.youtube.com/user/realcsstricks">YouTube</a></li>
              <li><a href="https://codepen.io/team/css-tricks">CodePen</a></li>
              <li><a href="https://podcasts.apple.com/us/podcast/css-tricks-screencasts/id273881728">iTunes</a></li>
              <li><a href="https://css-tricks.com/feed/">RSS</a></li>
            </ul>
          </div>
        </div>

      </div>

    </div>

    <a href="https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#top-of-site" class="top-of-site-link" data-visible="true">
      <span class="screen-reader-text">Back to Top</span>
      <svg width="32" height="32" viewBox="0 0 100 100">
  <path fill="white" d="m50 0c-13.262 0-25.98 5.2695-35.355 14.645s-14.645 22.094-14.645 35.355 5.2695 25.98 14.645 35.355 22.094 14.645 35.355 14.645 25.98-5.2695 35.355-14.645 14.645-22.094 14.645-35.355-5.2695-25.98-14.645-35.355-22.094-14.645-35.355-14.645zm20.832 62.5-20.832-22.457-20.625 22.457c-1.207 0.74219-2.7656 0.57812-3.7891-0.39844-1.0273-0.98047-1.2695-2.5273-0.58594-3.7695l22.918-25c0.60156-0.61328 1.4297-0.96094 2.2891-0.96094 0.86328 0 1.6914 0.34766 2.293 0.96094l22.918 25c0.88672 1.2891 0.6875 3.0352-0.47266 4.0898-1.1562 1.0508-2.9141 1.0859-4.1133 0.078125z"></path>
</svg>
    </a>
    
  </footer>

  		
				
		
















  








  


  

  <svg width="0" height="0" class="screen-reader">
    <defs>

      <lineargradient id="orange-to-pink" x1="0" x2="1" y1="0" y2="1">
        <stop offset="0%" stop-color="#ff7a18"></stop>
        <stop offset="40%" stop-color="#af002d"></stop>
        <stop offset="100%" stop-color="#319197"></stop>
      </lineargradient>

      <filter id="duotone_orange_pink">
        <fecolormatrix type="matrix" result="grayscale" values="1 0 0 0 0
                  1 0 0 0 0
                  1 0 0 0 0
                  0 0 0 1 0">
        </fecolormatrix>
        <fecomponenttransfer color-interpolation-filters="sRGB" result="duotone">
          <fefuncr type="table" tableValues="0.7411764706 0.9882352941"></fefuncr>
          <fefuncg type="table" tableValues="0.0431372549 0.7333333333"></fefuncg>
          <fefuncb type="table" tableValues="0.568627451 0.05098039216"></fefuncb>
          <fefunca type="table" tableValues="0 1"></fefunca>
        </fecomponenttransfer>
      </filter>

    </defs>
  </svg>

  <script type="application/ld+json" class="rank-math-schema-pro">{"@context":"https://schema.org","@graph":[{"@type":"Organization","@id":"https://css-tricks.com/#organization","name":"CSS-Tricks","logo":{"@type":"ImageObject","@id":"https://css-tricks.com/#logo","url":"https://css-tricks.com/wp-content/uploads/2019/06/akqRGyta_400x400.jpg","caption":"CSS-Tricks","inLanguage":"en-US"}},{"@type":"WebSite","@id":"https://css-tricks.com/#website","url":"https://css-tricks.com","name":"CSS-Tricks","publisher":{"@id":"https://css-tricks.com/#organization"},"inLanguage":"en-US"},{"@type":"ImageObject","@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/sun-moon.png?fit=1200%2C600&amp;ssl=1","url":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/sun-moon.png?fit=1200%2C600&amp;ssl=1","width":"1200","height":"600","inLanguage":"en-US"},{"@type":"Person","@id":"https://css-tricks.com/author/maksakymenko/","name":"Maks Akymenko","url":"https://css-tricks.com/author/maksakymenko/","image":{"@type":"ImageObject","@id":"https://secure.gravatar.com/avatar/47e44074439d3533a350d0112022b3e8?s=96&amp;d=retro&amp;r=pg","url":"https://secure.gravatar.com/avatar/47e44074439d3533a350d0112022b3e8?s=96&amp;d=retro&amp;r=pg","caption":"Maks Akymenko","inLanguage":"en-US"},"worksFor":{"@id":"https://css-tricks.com/#organization"}},{"@type":"WebPage","@id":"https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#webpage","url":"https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/","name":"A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks","datePublished":"2019-09-25T07:10:14-07:00","dateModified":"2019-09-25T07:10:14-07:00","author":{"@id":"https://css-tricks.com/author/maksakymenko/"},"isPartOf":{"@id":"https://css-tricks.com/#website"},"primaryImageOfPage":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/sun-moon.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US"},{"@type":"BlogPosting","headline":"A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks","datePublished":"2019-09-25T07:10:14-07:00","dateModified":"2019-09-25T07:10:14-07:00","author":{"@id":"https://css-tricks.com/author/maksakymenko/"},"publisher":{"@id":"https://css-tricks.com/#organization"},"description":"I like when websites have a dark mode option. Dark mode makes web pages easier for me to read and helps my eyes feel more relaxed. Many websites, including","name":"A Dark Mode Toggle with React and ThemeProvider | CSS-Tricks","@id":"https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#richSnippet","isPartOf":{"@id":"https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#webpage"},"image":{"@id":"https://i0.wp.com/css-tricks.com/wp-content/uploads/2019/09/sun-moon.png?fit=1200%2C600&amp;ssl=1"},"inLanguage":"en-US","mainEntityOfPage":{"@id":"https://css-tricks.com/a-dark-mode-toggle-with-react-and-themeprovider/#webpage"}}]}</script><script type="text/javascript" id="jetpack_related-posts-js-extra">
/* <![CDATA[ */
var related_posts_js_options = {"post_heading":"h4"};
/* ]]> */
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/related-posts.min.js.download" id="jetpack_related-posts-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/regenerator-runtime.min.js.download" id="regenerator-runtime-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/wp-polyfill.min.js.download" id="wp-polyfill-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/hooks.min.js.download" id="wp-hooks-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/i18n.min.js.download" id="wp-i18n-js"></script><script id="wp-i18n-js-after">
wp.i18n.setLocaleData( { 'text direction\u0004ltr': [ 'ltr' ] } );
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/i18n-loader.js.download" id="wp-jp-i18n-loader-js"></script><script id="wp-jp-i18n-loader-js-after">
wp.jpI18nLoader.state = {"baseUrl":"https://css-tricks.com/wp-content/languages/","locale":"en_US","domainMap":{"jetpack-tracking":"plugins/jetpack","jetpack-assets":"plugins/jetpack","jetpack-heartbeat":"plugins/jetpack","jetpack-password-checker":"plugins/jetpack","jetpack-idc":"plugins/jetpack","jetpack-backup-pkg":"plugins/jetpack","jetpack-connection":"plugins/jetpack","jetpack-sync":"plugins/jetpack","jetpack-config":"plugins/jetpack","jetpack-connection-ui":"plugins/jetpack","jetpack-jitm":"plugins/jetpack","jetpack-lazy-images":"plugins/jetpack","jetpack-licensing":"plugins/jetpack","jetpack-my-jetpack":"plugins/jetpack","jetpack-admin-ui":"plugins/jetpack","jetpack-search-pkg":"plugins/jetpack"},"domainPaths":{"jetpack-tracking":"jetpack_vendor/automattic/jetpack-tracking/","jetpack-assets":"jetpack_vendor/automattic/jetpack-assets/","jetpack-heartbeat":"jetpack_vendor/automattic/jetpack-heartbeat/","jetpack-password-checker":"jetpack_vendor/automattic/jetpack-password-checker/","jetpack-idc":"jetpack_vendor/automattic/jetpack-identity-crisis/","jetpack-backup-pkg":"jetpack_vendor/automattic/jetpack-backup/","jetpack-connection":"jetpack_vendor/automattic/jetpack-connection/","jetpack-sync":"jetpack_vendor/automattic/jetpack-sync/","jetpack-config":"jetpack_vendor/automattic/jetpack-config/","jetpack-connection-ui":"jetpack_vendor/automattic/jetpack-connection-ui/","jetpack-jitm":"jetpack_vendor/automattic/jetpack-jitm/","jetpack-lazy-images":"jetpack_vendor/automattic/jetpack-lazy-images/","jetpack-licensing":"jetpack_vendor/automattic/jetpack-licensing/","jetpack-my-jetpack":"jetpack_vendor/automattic/jetpack-my-jetpack/","jetpack-admin-ui":"jetpack_vendor/automattic/jetpack-admin-ui/","jetpack-search-pkg":"jetpack_vendor/automattic/jetpack-search/"}};
</script><script>
				document.documentElement.classList.add(
					'jetpack-lazy-images-js-enabled'
				);
			</script><script>
  var articleYear = 2019;
  var articleAuthor = "264026";
  var articleType = "post";
</script><script>document.getElementById( "ak_js_1" ).setAttribute( "value", ( new Date() ).getTime() );</script><script>window.addEventListener('load', function() {
				document.querySelectorAll('link').forEach(function(e) {'not all' === e.media && e.dataset.media && (e.media=e.dataset.media,delete e.dataset.media)});
				var e = document.getElementById('jetpack-boost-critical-css');
				e && (e.media = 'not all');
			});</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/photon.min.js.download" id="jetpack-photon-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/jquery-3.5.1.min.js.download" id="jquery-js"></script><script type="text/javascript" id="antispampro-script-js-extra">
/* <![CDATA[ */
var antispampro_vars = {"code":"micuno","input_name_suffix":"luwele"};
/* ]]> */
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/anti-spam-pro-4.1.js.download" id="antispampro-script-js"></script><script type="text/javascript" id="jetpack-live-comment-markdown-js-extra">
/* <![CDATA[ */
var markdownify = {"ajax_url":"\/wp-admin\/admin-ajax.php","nonce":"09fc33593f"};
/* ]]> */
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/markdownify.js.download" id="jetpack-live-comment-markdown-js"></script><script id="jetpack-instant-search-js-translations">
( function( domain, translations ) {
	var localeData = translations.locale_data[ domain ] || translations.locale_data.messages;
	localeData[""].domain = domain;
	wp.i18n.setLocaleData( localeData, domain );
} )( "jetpack-search-pkg", { "locale_data": { "messages": { "": {} } } } );
</script><script id="jetpack-instant-search-js-before">
var JetpackInstantSearchOptions=JSON.parse(decodeURIComponent("%7B%22overlayOptions%22%3A%7B%22colorTheme%22%3A%22dark%22%2C%22enableInfScroll%22%3Afalse%2C%22enableSort%22%3Atrue%2C%22highlightColor%22%3A%22%23f4af38%22%2C%22overlayTrigger%22%3A%22results%22%2C%22resultFormat%22%3A%22expanded%22%2C%22showPoweredBy%22%3Atrue%2C%22defaultSort%22%3A%22relevance%22%2C%22excludedPostTypes%22%3A%5B%22attachment%22%2C%22screenshot%22%5D%7D%2C%22homeUrl%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%22%2C%22locale%22%3A%22en-US%22%2C%22postsPerPage%22%3A11%2C%22siteId%22%3A45537868%2C%22postTypes%22%3A%7B%22post%22%3A%7B%22singular_name%22%3A%22Post%22%2C%22name%22%3A%22Posts%22%7D%2C%22page%22%3A%7B%22singular_name%22%3A%22Page%22%2C%22name%22%3A%22Pages%22%7D%2C%22attachment%22%3A%7B%22singular_name%22%3A%22Media%22%2C%22name%22%3A%22Media%22%7D%2C%22guides%22%3A%7B%22singular_name%22%3A%22Guide%22%2C%22name%22%3A%22Guides%22%7D%2C%22newsletters%22%3A%7B%22singular_name%22%3A%22Newsletter%22%2C%22name%22%3A%22Newsletters%22%7D%2C%22chapters%22%3A%7B%22singular_name%22%3A%22Chapter%22%2C%22name%22%3A%22Chapters%22%7D%7D%2C%22webpackPublicPath%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-content%5C%2Fplugins%5C%2Fjetpack%5C%2Fjetpack_vendor%5C%2Fautomattic%5C%2Fjetpack-search%5C%2Fbuild%5C%2Finstant-search%5C%2F%22%2C%22isPhotonEnabled%22%3Atrue%2C%22apiRoot%22%3A%22https%3A%5C%2F%5C%2Fcss-tricks.com%5C%2Fwp-json%5C%2F%22%2C%22apiNonce%22%3A%22e8ccf0abfb%22%2C%22isPrivateSite%22%3Afalse%2C%22isWpcom%22%3Afalse%2C%22hasOverlayWidgets%22%3Atrue%2C%22widgets%22%3A%5B%7B%22filters%22%3A%5B%7B%22name%22%3A%22Post%20Types%22%2C%22type%22%3A%22post_type%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22post_type_0%22%7D%2C%7B%22name%22%3A%22Year%22%2C%22type%22%3A%22date_histogram%22%2C%22count%22%3A1%2C%22field%22%3A%22post_date%22%2C%22interval%22%3A%22year%22%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22date_histogram_1%22%7D%2C%7B%22name%22%3A%22Tags%22%2C%22type%22%3A%22taxonomy%22%2C%22taxonomy%22%3A%22post_tag%22%2C%22count%22%3A5%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%2C%22filter_id%22%3A%22taxonomy_2%22%7D%5D%2C%22widget_id%22%3A%22jetpack-search-filters-5%22%7D%5D%2C%22widgetsOutsideOverlay%22%3A%5B%5D%2C%22hasNonSearchWidgets%22%3Atrue%2C%22adminQueryFilter%22%3A%7B%22bool%22%3A%7B%22should%22%3A%5B%7B%22term%22%3A%7B%22post_type%22%3A%22post%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22page%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22newsletters%22%7D%7D%2C%7B%22term%22%3A%7B%22post_type%22%3A%22chapters%22%7D%7D%5D%7D%7D%7D"));
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/jp-search.js.download" id="jetpack-instant-search-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/w.js.download" id="jp-tracks-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/comment-reply.min.js.download" id="my-comment-reply-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/intersection-observer.js.download" id="jetpack-lazy-images-polyfill-intersectionobserver-js"></script><script type="text/javascript" id="jetpack-lazy-images-js-extra">
/* <![CDATA[ */
var jetpackLazyImagesL10n = {"loading_warning":"Images are still loading. Please cancel your print and try again."};
/* ]]> */
</script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/lazy-images.js.download" id="jetpack-lazy-images-js"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/e-202211.js.download" defer=""></script><script>
	_stq = window._stq || [];
	_stq.push([ 'view', {v:'ext',j:'1:10.7',blog:'45537868',post:'296088',tz:'-7',srv:'css-tricks.com'} ]);
	_stq.push([ 'clickTrackerInit', '45537868', '296088' ]);
</script><style>img#wpstats {
			position: absolute !important;
			clip: rect(0, 0, 0, 0);
			padding: 0 !important;
			border: 0 !important;
			height: 0 !important;
			width: 0 !important;
			overflow: hidden;
		}</style><img src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/g.gif" alt="" id="wpstats"><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/global-concat.min.js.download"></script><script>
  // Google Analytics
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-68528-29', 'auto');

  if (typeof articleYear !== "undefined") {
    ga('set', 'dimension1', articleYear);
  }
  if (typeof articleAuthor !== "undefined") {
    ga('set', 'dimension2', articleAuthor);
  }
  if (typeof articleType !== "undefined") {
    ga('set', 'dimension3', articleType);
  }

  ga('send', 'pageview');
</script><script>
  // Segment Analytics
  !function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","debug","page","once","off","on","addSourceMiddleware","addIntegrationMiddleware","setAnonymousId","addDestinationMiddleware"];analytics.factory=function(e){return function(){var t=Array.prototype.slice.call(arguments);t.unshift(e);analytics.push(t);return analytics}};for(var e=0;e<analytics.methods.length;e++){var key=analytics.methods[e];analytics[key]=analytics.factory(key)}analytics.load=function(key,e){var t=document.createElement("script");t.type="text/javascript";t.async=!0;t.src="https://cdn.segment.com/analytics.js/v1/" + key + "/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n);analytics._loadOptions=e};analytics._writeKey="nnmtLrk127wcC9ggBpAutRr4F4x4TMVz";;analytics.SNIPPET_VERSION="4.15.3";
  analytics.load("nnmtLrk127wcC9ggBpAutRr4F4x4TMVz");
  analytics.page();
  }}();
</script><script async="" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/ei.js.download"></script><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/5.1.0" type="module" integrity="sha384-by67kQnR+pyfy8yWP4kPO12fHKRLHZPfEsiSXR8u2IKcTdxD805MGUXBzVPnkLHw"></script>

  <div aria-hidden="true" aria-labelledby="jetpack-instant-search__overlay-title" class="jetpack-instant-search jetpack-instant-search__overlay jetpack-instant-search__overlay--dark  is-hidden" role="dialog"><h1 id="jetpack-instant-search__overlay-title" class="screen-reader-text">Search results</h1><div aria-hidden="false" class="jetpack-instant-search__search-results"><div class="jetpack-instant-search__search-results-controls" role="form"><form autocomplete="off" role="search" class="jetpack-instant-search__search-results-search-form"><div class="jetpack-instant-search__search-form"><div class="jetpack-instant-search__box"><label class="jetpack-instant-search__box-label" for="jetpack-instant-search__box-input-1"><div class="jetpack-instant-search__box-gridicon"><svg class="gridicon gridicons-search " focusable="true" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" aria-hidden="false" style="height: 24px; width: 24px;"><title>Magnifying Glass</title><g><path d="M21 19l-5.154-5.154C16.574 12.742 17 11.42 17 10c0-3.866-3.134-7-7-7s-7 3.134-7 7 3.134 7 7 7c1.42 0 2.742-.426 3.846-1.154L19 21l2-2zM5 10c0-2.757 2.243-5 5-5s5 2.243 5 5-2.243 5-5 5-5-2.243-5-5z"></path></g></svg></div><input autocomplete="off" id="jetpack-instant-search__box-input-1" class="search-field jetpack-instant-search__box-input" inputmode="search" placeholder="Search…" type="search"><button class="screen-reader-text assistive-text">Search</button></label></div></div></form><button class="jetpack-instant-search__overlay-close" tabindex="0" aria-label="Close search results"><svg class="gridicon gridicons-cross " focusable="false" height="24" viewBox="0 0 24 24" width="24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="height: 24px; width: 24px;"><title>Close search results</title><g><path d="M18.36 19.78L12 13.41l-6.36 6.37-1.42-1.42L10.59 12 4.22 5.64l1.42-1.42L12 10.59l6.36-6.36 1.41 1.41L13.41 12l6.36 6.36z"></path></g></svg></button></div><div class="jetpack-instant-search__search-form-controls" role="form"><div role="button" tabindex="0" class="jetpack-instant-search__search-results-filter-button">Filters<svg class="gridicon gridicons-chevron-down " focusable="true" height="16" viewBox="0 0 24 24" width="16" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" style="height: 16px; width: 16px;"><g><path d="M20 9l-8 8-8-8 1.414-1.414L12 14.172l6.586-6.586"></path></g></svg><span class="screen-reader-text assistive-text">Show filters</span></div><div aria-controls="jetpack-instant-search__search-results-content" class="jetpack-instant-search__search-sort jetpack-instant-search__search-sort-with-links"><div class="screen-reader-text">Sort by: </div><a class="jetpack-instant-search__search-sort-option is-selected" data-value="relevance" role="button" tabindex="0">Relevance</a><a class="jetpack-instant-search__search-sort-option " data-value="newest" role="button" tabindex="0">Newest</a><a class="jetpack-instant-search__search-sort-option " data-value="oldest" role="button" tabindex="0">Oldest</a></div></div><div aria-live="polite" class="jetpack-instant-search__search-results-content" id="jetpack-instant-search__search-results-content"><div class="jetpack-instant-search__search-results-primary"><style>
							.jetpack-instant-search *::selection,
							.jetpack-instant-search .jetpack-instant-search__search-results .jetpack-instant-search__search-results-primary .jetpack-instant-search__search-result mark {
								color: black;
								background-color: #f4af38;
							}
						</style><h2 class="jetpack-instant-search__search-results-title">Found 8,017 results</h2><ol class="jetpack-instant-search__search-results-list is-format-expanded"><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--page  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/">A Complete Guide to Flexbox</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/"><span class="jetpack-instant-search__path-breadcrumb-piece">snippets › </span><span class="jetpack-instant-search__path-breadcrumb-piece">css › </span><span class="jetpack-instant-search__path-breadcrumb-piece">a-guide-to-flexbox</span></a></div><div class="jetpack-instant-search__search-result-expanded__content">Our comprehensive guide to CSS flexbox layout. This complete guide explains everything about flexbox, focusing on all the different possible properties for the parent element (the flex container) and the child elements (the flex items). It also includes history, demos, patterns, and a browser support chart.</div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/snippets/css/a-guide-to-flexbox/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/guide-flexbox.png"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--page  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/snippets/css/complete-guide-grid/">A Complete Guide to Grid</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/snippets/css/complete-guide-grid/"><span class="jetpack-instant-search__path-breadcrumb-piece">snippets › </span><span class="jetpack-instant-search__path-breadcrumb-piece">css › </span><span class="jetpack-instant-search__path-breadcrumb-piece">complete-guide-grid</span></a></div><div class="jetpack-instant-search__search-result-expanded__content">Our comprehensive guide to CSS grid, focusing on all the settings both for the grid parent container and the grid child elements.</div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/snippets/css/complete-guide-grid/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/grid-guide.png"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/explain-the-first-10-lines-of-twitter-source-code/">Explain the First 10 Lines of Twitter's Source Code to Me</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/explain-the-first-10-lines-of-twitter-source-code/"><span class="jetpack-instant-search__path-breadcrumb-piece">explain-the-first-10-lines-of-twitter-source-code</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/explain-the-first-10-lines-of-twitter-source-code/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/twitter-source-code.jpg"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/replace-javascript-dialogs-html-dialog-element/">Replace JavaScript Dialogs With the New HTML Dialog Element</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/replace-javascript-dialogs-html-dialog-element/"><span class="jetpack-instant-search__path-breadcrumb-piece">replace-javascript-dialogs-html-dialog-element</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/replace-javascript-dialogs-html-dialog-element/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/dialog-confirm.jpg"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/css-database-queries/">CSS Database Queries? Sure We Can!</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/css-database-queries/"><span class="jetpack-instant-search__path-breadcrumb-piece">css-database-queries</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/css-database-queries/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/tweet-1.jpg"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--page jetpack-instant-search__search-result-expanded--no-image "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/archives/">Archives</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/archives/"><span class="jetpack-instant-search__path-breadcrumb-piece">archives</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/archives/"><div class="jetpack-instant-search__search-result-expanded__image-container"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/perfect-full-page-background-image/">Perfect Full Page Background&nbsp;Image</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/perfect-full-page-background-image/"><span class="jetpack-instant-search__path-breadcrumb-piece">perfect-full-page-background-image</span></a></div><div class="jetpack-instant-search__search-result-expanded__content">Four techniques are explored on accomplishing a full page background image that conforms to our exceptions: no white space, scales as needed, retains aspect ratio, centered, and more.</div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/perfect-full-page-background-image/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/new-css-color-features-preview/">A Whistle-Stop Tour of 4 New CSS Color Features</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/new-css-color-features-preview/"><span class="jetpack-instant-search__path-breadcrumb-piece">new-css-color-features-preview</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/new-css-color-features-preview/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/the-shapes-of-css/">The Shapes of CSS</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/the-shapes-of-css/"><span class="jetpack-instant-search__path-breadcrumb-piece">the-shapes-of-css</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/the-shapes-of-css/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--post  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/send-an-http-request-on-page-exit/">Reliably Send an HTTP Request as a User Leaves a Page</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/send-an-http-request-on-page-exit/"><span class="jetpack-instant-search__path-breadcrumb-piece">send-an-http-request-on-page-exit</span></a></div><div class="jetpack-instant-search__search-result-expanded__content"></div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/send-an-http-request-on-page-exit/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image"></div></a></div></li><li class="jetpack-instant-search__search-result jetpack-instant-search__search-result-expanded jetpack-instant-search__search-result-expanded--page  "><div class="jetpack-instant-search__search-result-expanded__content-container"><div class="jetpack-instant-search__search-result-expanded__copy-container"><h3 class="jetpack-instant-search__search-result-title jetpack-instant-search__search-result-expanded__title"><a class="jetpack-instant-search__search-result-title-link jetpack-instant-search__search-result-expanded__title-link" href="https://css-tricks.com/snippets/css/media-queries-for-standard-devices/">Media Queries for Standard Devices</a></h3><div class="jetpack-instant-search__path-breadcrumb jetpack-instant-search__search-result-expanded__path"><a class="jetpack-instant-search__path-breadcrumb-link" href="https://css-tricks.com/snippets/css/media-queries-for-standard-devices/"><span class="jetpack-instant-search__path-breadcrumb-piece">snippets › </span><span class="jetpack-instant-search__path-breadcrumb-piece">css › </span><span class="jetpack-instant-search__path-breadcrumb-piece">media-queries-for-standard-devices</span></a></div><div class="jetpack-instant-search__search-result-expanded__content">This page lists a ton of different devices and media queries that would specifically target that device. That's probably not generally a great practice, but it is helpful to know what the dimensions for all these devices are in a CSS context.</div></div><a class="jetpack-instant-search__search-result-expanded__image-link" href="https://css-tricks.com/snippets/css/media-queries-for-standard-devices/"><div class="jetpack-instant-search__search-result-expanded__image-container"><img class="jetpack-instant-search__search-result-expanded__image"></div></a></div></li></ol><div class="jetpack-instant-search__search-results-pagination"><button class="jetpack-instant-search__scroll-button"><span>Load more</span></button></div></div><div class="jetpack-instant-search__search-results-secondary  "><div class="jetpack-instant-search__sidebar"><div class="jetpack-instant-search__search-filters"><h2 class="jetpack-instant-search__search-filters-title">Filter options</h2></div><div class="jetpack-instant-search__widget-area-container"><div class="jetpack-instant-search__widget-area" style="">
							<div id="media_image-3" class="widget widget_media_image"><a href="https://jetpack.com/upgrade/search/?aff=8638"><img width="600" height="444" src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/Jetpack-Search-on-CSS-Tricks-Instant-Search.png" class="image wp-image-321694 attachment-full size-full jetpack-lazy-image jetpack-lazy-image--handled" alt="" loading="eager" style="max-width: 100%; height: auto;" srcset="https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?w=600&amp;ssl=1 600w, https://i0.wp.com/css-tricks.com/wp-content/uploads/2020/09/Jetpack-Search-on-CSS-Tricks-Instant-Search.png?resize=300%2C222&amp;ssl=1 300w" data-lazy-loaded="1" sizes="(min-width: 735px) 864px, 96vw"></a></div><div id="jetpack-search-filters-5" class="widget jetpack-filters widget_search">			<div id="jetpack-search-filters-5-wrapper" class="jetpack-instant-search-wrapper">
		<div id="jetpack-search-filters-5-portaled-wrapper" class="jetpack-instant-search__portaled-wrapper"><div class="jetpack-instant-search__search-filters"><div><h3 class="jetpack-instant-search__search-filter-sub-heading">Post Types</h3><div><div class="jetpack-instant-search__search-filter-list jetpack-instant-search__search-static-filter-list"></div><div class="jetpack-instant-search__search-filter-list"><div><input id="jetpack-instant-search__search-filter-2-post-types-post" name="post" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-2-post-types-post" class="jetpack-instant-search__search-filter-list-label">Post (6127)</label></div><div><input id="jetpack-instant-search__search-filter-2-post-types-page" name="page" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-2-post-types-page" class="jetpack-instant-search__search-filter-list-label">Page (1574)</label></div><div><input id="jetpack-instant-search__search-filter-2-post-types-newsletters" name="newsletters" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-2-post-types-newsletters" class="jetpack-instant-search__search-filter-list-label">Newsletter (296)</label></div><div><input id="jetpack-instant-search__search-filter-2-post-types-chapters" name="chapters" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-2-post-types-chapters" class="jetpack-instant-search__search-filter-list-label">Chapter (20)</label></div></div></div></div><div><h3 class="jetpack-instant-search__search-filter-sub-heading">Year</h3><div><div class="jetpack-instant-search__search-filter-list jetpack-instant-search__search-static-filter-list"></div><div class="jetpack-instant-search__search-filter-list"><div><input id="jetpack-instant-search__search-filter-3-dates-year_post_date-2022-01-01 00:00:00" name="2022-01-01 00:00:00" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-3-dates-year_post_date-2022-01-01 00:00:00" class="jetpack-instant-search__search-filter-list-label">2022 (121)</label></div></div></div></div><div><h3 class="jetpack-instant-search__search-filter-sub-heading">Tags</h3><div><div class="jetpack-instant-search__search-filter-list jetpack-instant-search__search-static-filter-list"></div><div class="jetpack-instant-search__search-filter-list"><div><input id="jetpack-instant-search__search-filter-4-taxonomies-svg" name="svg" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-4-taxonomies-svg" class="jetpack-instant-search__search-filter-list-label">SVG (201)</label></div><div><input id="jetpack-instant-search__search-filter-4-taxonomies-accessibility" name="accessibility" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-4-taxonomies-accessibility" class="jetpack-instant-search__search-filter-list-label">accessibility (158)</label></div><div><input id="jetpack-instant-search__search-filter-4-taxonomies-performance" name="performance" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-4-taxonomies-performance" class="jetpack-instant-search__search-filter-list-label">performance (156)</label></div><div><input id="jetpack-instant-search__search-filter-4-taxonomies-react" name="react" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-4-taxonomies-react" class="jetpack-instant-search__search-filter-list-label">react (149)</label></div><div><input id="jetpack-instant-search__search-filter-4-taxonomies-javascript" name="javascript" type="checkbox" class="jetpack-instant-search__search-filter-list-input"><label for="jetpack-instant-search__search-filter-4-taxonomies-javascript" class="jetpack-instant-search__search-filter-list-label">JavaScript (147)</label></div></div></div></div></div></div></div></div>					</div></div><div class="jetpack-instant-search__jetpack-colophon"><a href="https://jetpack.com/search?utm_source=poweredby" rel="external noopener noreferrer nofollow" target="_blank" class="jetpack-instant-search__jetpack-colophon-link"><svg class="jetpack-instant-search__jetpack-colophon-logo" height="12" width="12" viewBox="0 0 32 32"><path class="jetpack-logo__icon-circle" fill="#069e08" d="M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z"></path><polygon class="jetpack-logo__icon-triangle" fill="#fff" points="15,19 7,19 15,3 "></polygon><polygon class="jetpack-logo__icon-triangle" fill="#fff" points="17,29 17,13 25,13 "></polygon></svg><span class="jetpack-instant-search__jetpack-colophon-text">Search powered by Jetpack</span></a></div></div></div></div></div></div><script src="./A Dark Mode Toggle with React and ThemeProvider _ CSS-Tricks - CSS-Tricks_files/carbon.js.download" id="_carbonads_js"></script></body></html>